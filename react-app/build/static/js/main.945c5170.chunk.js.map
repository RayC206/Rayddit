{"version":3,"sources":["store/session.js","components/auth/signUpLogo.png","components/auth/SignUpForm.js","components/auth/icon.png","components/Navigation/ProfileButton.js","context/Modal.js","components/Navigation/logo.png","components/LoginFormModal/LoginForm.js","components/LoginFormModal/index.js","components/SignUpFormModal (unused)/signUpLogo.png","components/SignUpFormModal (unused)/SignUpForm.js","components/SignUpFormModal (unused)/index.js","components/Navigation/raydditlogo.png","components/Navigation/darkModeLogo.png","components/DarkMode/index.js","components/Navigation/NavBar.js","components/auth/ProtectedRoute.js","components/UsersList.js","store/subreddits.js","components/Homepage/createIcon.png","components/PostCard/brokenImageUpload.png","store/posts.js","components/PostCard/index.js","components/Homepage/index.js","components/Homepage/github.png","components/Homepage/linkedin.png","components/CreatePost/index.js","components/CreatePost/icon.png","store/comments.js","components/EditComment/index.js","components/CreateComment/index.js","components/PostDetails/index.js","components/EditPost/index.js","components/ErrorPage/index.js","components/ProfilePage/index.js","components/CreateSubreddit/index.js","components/EditSubreddit/index.js","components/EditSubreddit/EditSubredditModal.js","components/SubredditPage/index.js","App.js","store/index.js","index.js"],"names":["SET_USER","REMOVE_USER","setUser","user","type","payload","initialState","login","email","password","dispatch","a","fetch","method","headers","body","JSON","stringify","response","ok","json","data","status","errors","signUp","username","SignUpForm","useState","setErrors","setUsername","setEmail","setPassword","repeatPassword","setRepeatPassword","useSelector","state","session","useDispatch","onSignUp","e","preventDefault","to","className","src","signUpLogo","alt","onSubmit","map","error","ind","name","onChange","target","value","required","ProfileButton","showMenu","setShowMenu","history","useHistory","useEffect","closeMenu","document","addEventListener","removeEventListener","onClick","profile_image","id","push","ModalContext","React","createContext","ModalProvider","children","modalRef","useRef","setValue","current","Provider","ref","Modal","onClose","modalNode","useContext","ReactDOM","createPortal","LoginForm","onLogin","logo","placeholder","subredditId","LoginFormModal","isOpen","modalToggle","SignUpFormModal","DarkModeButton","darkMode","setDarkMode","jsx","NavBar","sessionLinks","isLoaded","sessionUser","loginFormModalIsOpen","setLoginFormModalIsOpen","signUpFormModalIsOpen","setSignUpFormModalIsOpen","exact","darkModeLogo","raydittLogo","ProtectedRoute","props","UsersList","users","setUsers","responseData","fetchData","userComponents","CREATE_SUBREDDIT","GET_SUBREDDIT","GET_ALL_SUBREDDITS","GET_ALL_USERS_SUBREDDITS","EDIT_SUBREDDIT","DELETE_SUBREDDIT","SUBSCRIBE_TO_SUBREDDIT","createSubreddit","subreddit","getAllSubreddits","subreddits","getSubreddit","getAllUsersSubreddits","subscribeToSubreddit","getAllSubredditsRequest","res","getSubredditRequest","deleteSubredditRequest","deletedSubredditId","subredditReducer","action","newState","forEach","CREATE_POST","GET_POST","GET_ALL_POSTS","GET_ALL_SUBREDDITS_POSTS","GET_USER_POSTS","EDIT_POST","DELETE_POST","UPVOTE_POST","DOWNVOTE_POST","createPost","post","getPost","getAllPosts","posts","getAllSubredditsPosts","getUserPosts","upvotePost","downvotePost","getPostRequest","postId","deletePostRequest","deletedPostId","postsReducer","PostCard","isUpvotedByUser","setIsUpvotedByUser","isDownvotedByUser","setIsDownvotedByUser","votes","vote","user_id","upvotePostRequest","downvotePostRequest","postDetailPage","path","total_votes","subredditPage","subreddit_id","subreddit_name","userId","usersProfilePage","date","Intl","DateTimeFormat","dateStyle","timeStyle","format","Date","formatDate","created_at","title","post_type_id","text","img_url","onError","currentTarget","imgUrlBackup","href","link_url","Homepage","useLocation","subredditInfo","Object","values","sort","postA","postB","setIsLoginFormModalIsOpen","postsLoaded","setPostsLoaded","subredditLoaded","setSubredditLoaded","currentPage","setCurrentPage","postsPerPage","then","window","handleScroll","innerHeight","scrollY","offsetHeight","setTimeout","prevPage","createIcon","length","slice","subredditsPage","icon_url","CreatePost","urlParams","URLSearchParams","location","search","Number","get","setTitle","imageUrl","setImageUrl","image","setImage","linkUrl","setLinkUrl","setText","setSubreddit","postType","setPostType","submitSuccess","setSubmitSuccess","subredditsLoaded","setSubredditsLoaded","selectPostType","handleSubmit","newPost","formData","FormData","append","idx","selected","accept","files","CREATE_COMMENT","GET_POST_COMMENTS","EDIT_COMMENT","DELETE_COMMENT","createComment","comment","getPostComments","comments","deleteComment","commentsReducer","parent_id","replies","console","log","reply","index","filter","EditComment","onSuccess","commentId","useParams","editedComment","CreateComment","replyToId","newComment","post_id","createCommentRequest","PostDetails","openCommentEditFormId","setOpenCommentEditFormId","openCommentReplyFormId","setOpenCommentReplyFormId","postLoaded","setPostLoaded","commentsLoaded","setCommentsLoaded","isNaN","getAllPostCommentsRequest","createPostPage","deleteCommentRequest","editPost","deletePost","user_profile_image","banner_img","description","EditPost","editedPost","ErrorPage","ProfilePage","userOwnsProfile","setUserOwnsProfile","userSubredditsLoaded","setUserSubredditsLoaded","getUserPostsRequest","formatCakeDay","CreateSubreddit","setName","setDescription","iconUrl","setIconUrl","bannerImage","setBannerImage","newSubreddit","EditSubreddit","editedSubredditData","editedSubreddit","EditSubredditModal","SubredditPage","editSubredditFormModalIsOpen","setIsEditSubredditFormModalIsOpen","userOwnsSubreddit","setUserOwnsSubreddit","userJoinedSubreddit","setUserJoinedSubreddit","getAllSubredditsPostsRequest","subscriptions","subscription","owner_id","deleteSubreddit","joinSubreddit","subscribeToSubredditRequest","App","enhancer","loaded","setLoaded","rootReducer","combineReducers","applyMiddleware","thunk","store","preloadedState","createStore","configureStore","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.945c5170.chunk.js","sourcesContent":["// constants\nconst SET_USER = 'session/SET_USER';\nconst REMOVE_USER = 'session/REMOVE_USER';\n\nconst setUser = (user) => ({\n  type: SET_USER,\n  payload: user\n});\n\nconst removeUser = () => ({\n  type: REMOVE_USER,\n})\n\nconst initialState = { user: null };\n\nexport const authenticate = () => async (dispatch) => {\n  const response = await fetch('/api/auth/', {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  if (response.ok) {\n    const data = await response.json();\n    if (data.errors) {\n      return;\n    }\n\n    dispatch(setUser(data));\n  }\n}\n\nexport const login = (email, password) => async (dispatch) => {\n  const response = await fetch('/api/auth/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n\n\n  if (response.ok) {\n    const data = await response.json();\n    dispatch(setUser(data))\n    return null;\n  } else if (response.status < 500) {\n    const data = await response.json();\n    if (data.errors) {\n      return data.errors;\n    }\n  } else {\n    return ['An error occurred. Please try again.']\n  }\n\n}\n\nexport const logout = () => async (dispatch) => {\n  const response = await fetch('/api/auth/logout', {\n    headers: {\n      'Content-Type': 'application/json',\n    }\n  });\n\n  if (response.ok) {\n    dispatch(removeUser());\n  }\n};\n\n\nexport const signUp = (username, email, password) => async (dispatch) => {\n  const response = await fetch('/api/auth/signup', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      username,\n      email,\n      password,\n    }),\n  });\n\n  if (response.ok) {\n    const data = await response.json();\n    dispatch(setUser(data))\n    return null;\n  } else if (response.status < 500) {\n    const data = await response.json();\n    if (data.errors) {\n      return data.errors;\n    }\n  } else {\n    return ['An error occurred. Please try again.']\n  }\n}\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_USER:\n      return { user: action.payload }\n    case REMOVE_USER:\n      return { user: null }\n    default:\n      return state;\n  }\n}\n","export default __webpack_public_path__ + \"static/media/signUpLogo.0440b175.png\";","import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { signUp } from \"../../store/session\";\nimport \"./Auth.css\";\nimport signUpLogo from \"./signUpLogo.png\";\nimport icon from \"./icon.png\";\n\nconst SignUpForm = () => {\n  const [errors, setErrors] = useState([]);\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\n  const user = useSelector((state) => state.session.user);\n  const dispatch = useDispatch();\n\n  const onSignUp = async (e) => {\n    e.preventDefault();\n    if (password === repeatPassword) {\n      const data = await dispatch(signUp(username, email, password));\n      if (data) {\n        setErrors(data);\n      }\n    } else {\n      setErrors([\"Passwords do not match\"]);\n    }\n    // console.log(\"ERROR\")\n    // console.log(errors)\n    // if (!errors.length) {\n    //   onClose();\n    // }\n\n    // if (!email.includes(\"@\")) {\n    //   setErrors(['Email is not a valid address'])\n    // }\n  };\n\n  const updateUsername = (e) => {\n    setUsername(e.target.value);\n  };\n\n  const updateEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const updatePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const updateRepeatPassword = (e) => {\n    setRepeatPassword(e.target.value);\n  };\n\n  if (user) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <div className=\"signUpFormPageContainer\">\n      <div className=\"signUpFormContainer\">\n        <div className=\"signUpLogoDiv\">\n          <img src={signUpLogo} alt='signuplogo'></img>\n          <span className=\"registerSpan\">Create your Account</span>\n        </div>\n        <div className=\"innerSignUpFormContainer\">\n          <form onSubmit={onSignUp} className=\"signUpForm\">\n            <div className=\"errorDiv\">\n              {errors.map((error, ind) => (\n                <div className=\"errorDiv\" key={ind}>\n                  {\" \"}\n                  - {error}\n                </div>\n              ))}\n            </div>\n            <div className=\"signUpUsernameDiv\">\n              <label>Username</label>\n              <input\n                className=\"signUpFormInput\"\n                type=\"text\"\n                name=\"username\"\n                onChange={updateUsername}\n                value={username}\n              ></input>\n            </div>\n            <div className=\"signUpEmailDiv\">\n              <label>Email</label>\n              <input\n                className=\"signUpFormInput\"\n                type=\"text\"\n                name=\"email\"\n                onChange={updateEmail}\n                value={email}\n              ></input>\n            </div>\n            <div className=\"signUpPasswordDiv\">\n              <label>Password</label>\n              <input\n                className=\"signUpFormInput\"\n                type=\"password\"\n                name=\"password\"\n                onChange={updatePassword}\n                value={password}\n              ></input>\n            </div>\n            <div className=\"signUpPasswordRepeat\">\n              <label>Repeat Password</label>\n              <input\n                className=\"signUpFormInput\"\n                type=\"password\"\n                name=\"repeat_password\"\n                onChange={updateRepeatPassword}\n                value={repeatPassword}\n                required={true}\n              ></input>\n            </div>\n            <div className=\"createAccountDiv\">\n              <button className=\"signUpButton\" type=\"submit\">\n                Create Account\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n      <div className=\"sideCreateContainer signUpFormRules\">\n        <div className=\"postingRules\">\n          <img src={icon} alt='rulesIcon'></img>\n          <span>Welcome to Rayddit</span>\n        </div>\n        <ol>\n          <li className=\"ruleList\">Remember the human</li>\n          <li className=\"ruleList\">Behave like you would in real life</li>\n          <li className=\"ruleList\">Look for the original source of content</li>\n          <li className=\"ruleList\">Search for duplicates before posting</li>\n          <li className=\"ruleList\">Report any bugs to the developer</li>\n        </ol>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUpForm;\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport * as sessionActions from \"../../store/session\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"./NavBar.css\";\n\nfunction ProfileButton({ user }) {\n  const dispatch = useDispatch();\n  // const sessionUser = useSelector((state) => state.session.user);\n  const [showMenu, setShowMenu] = useState(false);\n  const history = useHistory();\n\n  const openMenu = () => {\n    if (showMenu) return;\n    setShowMenu(true);\n  };\n\n  useEffect(() => {\n    if (!showMenu) return;\n\n    const closeMenu = () => {\n      setShowMenu(false);\n    };\n\n    document.addEventListener(\"click\", closeMenu);\n\n    return () => document.removeEventListener(\"click\", closeMenu);\n  }, [showMenu]);\n\n  const logout = (e) => {\n    e.preventDefault();\n    dispatch(sessionActions.logout());\n    history.push(\"/\");\n  };\n\n  // const usersProfilePage = (userId) => {\n  //   let path = `/user/${userId}`;\n  //   history.push(path);\n  // };\n\n  return (\n    <>\n      <nav className=\"profileDropdownDiv\" onClick={openMenu}>\n        <div className=\"profileDropdown\">\n          <div className=\"menu_drop\">\n            <div className=\"user_icon\">\n              <img src={user.profile_image} alt='userProfileImage'></img>\n            </div>\n            <span>{user.username}</span>\n          </div>\n        </div>\n        {showMenu && (\n          <div id=\"menu\">\n            <div className=\"loggedInUser\"> {`Greetings, ${user.username}`}</div>\n            {/* <div className=\"dividerDropdown\"></div> */}\n            <Link\n              className=\"profilePageDropdown\"\n              to={`/user/${user.id}`}\n              id=\"dropDown1\"\n            >\n              Profile\n            </Link>\n            <div onClick={logout} id=\"dropDown2\">\n              Log out\n            </div>\n          </div>\n        )}\n      </nav>\n    </>\n  );\n}\n\nexport default ProfileButton;\n","import React, { useContext, useRef, useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./Modal.css\";\n\nconst ModalContext = React.createContext();\n\nexport function ModalProvider({ children }) {\n  const modalRef = useRef();\n  const [value, setValue] = useState();\n\n  useEffect(() => {\n    setValue(modalRef.current);\n  }, []);\n\n  return (\n    <>\n      <ModalContext.Provider value={value}>{children}</ModalContext.Provider>\n      <div ref={modalRef} />\n    </>\n  );\n}\n\nexport function Modal({ onClose, children }) {\n  const modalNode = useContext(ModalContext);\n  if (!modalNode) return null;\n\n  return ReactDOM.createPortal(\n    <div id=\"modal\">\n      <div\n        id=\"modal-background\"\n        onClick={() => {\n          onClose();\n        }}\n      />\n      <div id=\"modal-content\">{children}</div>\n    </div>,\n    modalNode\n  );\n}\n","export default __webpack_public_path__ + \"static/media/logo.f7282980.png\";","import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport { login } from \"../../store/session\";\nimport \"./LoginForm.css\";\nimport logo from \"../Navigation/logo.png\";\n// import SignUpFormModal from \"../SignUpFormModal (unused)\";\n\nconst LoginForm = ({ onClose }) => {\n  const history = useHistory();\n  const [errors, setErrors] = useState([]);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const user = useSelector((state) => state.session.user);\n  const dispatch = useDispatch();\n  // const [signUpFormModalIsOpen, setSignUpFormModalIsOpen] = useState(false);\n\n  const onLogin = async (e, isDemoUser = false) => {\n    e.preventDefault();\n    const data = await dispatch(login(email, password));\n    if (data) {\n      setErrors(data);\n    } else {\n      onClose();\n    }\n  };\n\n  const updateEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const updatePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  if (user) {\n    return <Redirect to=\"/\" />;\n  }\n\n  const signUpPage = (subredditId) => {\n    onClose();\n    let path = `/sign-up`;\n    history.push(path);\n  };\n\n  return (\n    <div className=\"loginFormContainer\">\n      <div className=\"loginLogoDiv\">\n        <img src={logo} alt='logo'></img>\n      </div>\n      <div className=\"loginWelcome\">\n        <span>Welcome to Rayddit</span>\n      </div>\n      <div className=\"innerLoginFormContainer\">\n        <form onSubmit={onLogin} className=\"loginForm\">\n          <div>\n            {errors.map((error, ind) => (\n              <div className=\"errorDiv\" key={ind}>\n                {\" \"}\n                - {error}\n              </div>\n            ))}\n          </div>\n          <div className=\"loginEmailDiv field\">\n            {/* <label>Email</label> */}\n            <input\n              className=\"loginEmailInput\"\n              name=\"email\"\n              type=\"text\"\n              placeholder=\"Email\"\n              value={email}\n              onChange={updateEmail}\n            />\n          </div>\n          <div className=\"loginPasswordDiv field\">\n            {/* <label htmlFor=\"password\">Password</label> */}\n            <input\n              className=\"loginPasswordInput\"\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={updatePassword}\n            />\n          </div>\n          <div className=\"loginButtonsDiv\">\n            <div className=\"loginDemoButtons\">\n              <button className=\"modalLoginButton\" type=\"submit\">\n                Login\n              </button>\n\n              <button\n                className=\"demoButton\"\n                type=\"submit\"\n                onClick={() => {\n                  setEmail(\"demo@aa.io\");\n                  setPassword(\"password\");\n                }}\n              >\n                {\" \"}\n                Demo User{\" \"}\n              </button>\n            </div>\n          </div>\n        </form>\n        <div className=\"loginSignUpDiv\">\n          <div>\n            <span>Need an Account?</span>\n          </div>\n\n          <button className=\"loginSignUpButton\" onClick={signUpPage}>\n            Sign Up\n          </button>\n\n          {/* <SignUpFormModal\n                isOpen={signUpFormModalIsOpen}\n                modalToggle={setSignUpFormModalIsOpen}\n              /> */}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginForm;\n","import React from \"react\";\nimport { Modal } from \"../../context/Modal\";\nimport LoginForm from \"./LoginForm\";\n\nfunction LoginFormModal({ isOpen, modalToggle }) {\n  return (\n    <>\n      {isOpen && (\n        <Modal onClose={() => modalToggle(false)}>\n          <LoginForm onClose={() => modalToggle(false)}/>\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport default LoginFormModal;\n","export default __webpack_public_path__ + \"static/media/signUpLogo.0440b175.png\";","import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { signUp } from \"../../store/session\";\nimport \"./SignUpForm.css\";\nimport signUpLogo from \"./signUpLogo.png\";\n\nconst SignUpForm = ({ onClose }) => {\n  const [errors, setErrors] = useState([]);\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\n  const user = useSelector((state) => state.session.user);\n  const dispatch = useDispatch();\n\n  const onSignUp = async (e) => {\n    e.preventDefault();\n    if (password === repeatPassword) {\n      const data = await dispatch(signUp(username, email, password));\n      if (data) {\n        setErrors(data);\n      } else {\n        onClose();\n      }\n    } else {\n      setErrors([\"Passwords do not match\"]);\n    }\n    // console.log(\"ERROR\")\n    // console.log(errors)\n    // if (!errors.length) {\n    //   onClose();\n    // }\n\n    // if (!email.includes(\"@\")) {\n    //   setErrors(['Email is not a valid address'])\n    // }\n  };\n\n  const updateUsername = (e) => {\n    setUsername(e.target.value);\n  };\n\n  const updateEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const updatePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const updateRepeatPassword = (e) => {\n    setRepeatPassword(e.target.value);\n  };\n\n  if (user) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <div className=\"signUpFormContainer\">\n      <div className=\"signUpLogoDiv\">\n        <img src={signUpLogo} alt='signuplogo'></img>\n        <span className=\"registerSpan\">Create your Account</span>\n      </div>\n      <div className=\"innerSignUpFormContainer\">\n        <form onSubmit={onSignUp} className=\"signUpForm\">\n          <div className=\"errorDiv\">\n            {errors.map((error, ind) => (\n              <div className=\"errorDiv\" key={ind}>\n                {\" \"}\n                - {error}\n              </div>\n            ))}\n          </div>\n          <div className=\"signUpUsernameDiv\">\n            <label>Username</label>\n            <input\n              className=\"signUpFormInput\"\n              type=\"text\"\n              name=\"username\"\n              onChange={updateUsername}\n              value={username}\n            ></input>\n          </div>\n          <div className=\"signUpEmailDiv\">\n            <label>Email</label>\n            <input\n              className=\"signUpFormInput\"\n              type=\"text\"\n              name=\"email\"\n              onChange={updateEmail}\n              value={email}\n            ></input>\n          </div>\n          <div className=\"signUpPasswordDiv\">\n            <label>Password</label>\n            <input\n              className=\"signUpFormInput\"\n              type=\"password\"\n              name=\"password\"\n              onChange={updatePassword}\n              value={password}\n            ></input>\n          </div>\n          <div className=\"signUpPasswordRepeat\">\n            <label>Repeat Password</label>\n            <input\n              className=\"signUpFormInput\"\n              type=\"password\"\n              name=\"repeat_password\"\n              onChange={updateRepeatPassword}\n              value={repeatPassword}\n              required={true}\n            ></input>\n          </div>\n          <div className=\"createAccountDiv\">\n            <button className=\"signUpButton\" type=\"submit\">Create Account</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUpForm;\n","import React from \"react\";\nimport { Modal } from \"../../context/Modal\";\nimport SignUpForm from \"./SignUpForm\";\n\nfunction SignUpFormModal({ isOpen, modalToggle }) {\n  return (\n    <>\n      {isOpen && (\n        <Modal onClose={() => modalToggle(false)}>\n          <SignUpForm onClose={() => modalToggle(false)} />\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport default SignUpFormModal;\n","export default __webpack_public_path__ + \"static/media/raydditlogo.1009fb5b.png\";","export default __webpack_public_path__ + \"static/media/darkModeLogo.5b5324de.png\";","import React from \"react\";\nimport { FaSun, FaMoon } from \"react-icons/fa\";\nimport \"./DarkMode.css\";\n\nconst DarkModeButton = ({ darkMode, setDarkMode }) => {\n  const toggleDarkMode = () => {\n    setDarkMode(!darkMode);\n  };\n\n  return (\n    <div>\n      <button onClick={toggleDarkMode} className=\"darkmodeToggle\">\n        {darkMode ? <FaSun /> : <FaMoon />}\n      </button>\n      <style jsx>{`\n        body,\n        html {\n          background-color: ${darkMode ? \"rgb(68,70,84)\" : \"rgb(218,224,230)\"};\n          transition: background-color 0.5s ease;\n        }\n        #navBar {\n          border-bottom: ${darkMode\n            ? \"1px solid rgb(38 35 35)\"\n            : \"1px solid rgb(216, 203, 203)\"};\n        }\n        #navBarContainer {\n          background-color: ${darkMode ? \"rgb(52,53,65)\" : \"white\"};\n          transition: background-color 0.5s ease;\n        }\n        .profileDropdownDiv {\n          background-color: ${darkMode ? \"rgb(98 122 146)\" : \"white\"};\n        }\n        .menu_drop > span {\n          color: ${darkMode ? \"white\" : \"black\"};\n        }\n\n        .postContainer {\n          background-color: ${darkMode ? \"rgb(62, 60, 60)\" : \"white\"};\n        }\n\n        .postContainer > div {\n          color: ${darkMode ? \"white\" : \"black\"};\n        }\n        .outerPostContainer {\n          background-color: ${darkMode\n            ? \"rgb(94, 94, 118)\"\n            : \"rgb(247, 247, 252)\"};\n          border: ${darkMode\n            ? \"1px solid rgb(38 35 35)\"\n            : \"1px solid rgb(206, 195, 195)\"};\n        }\n        .homepageSubredditContent,\n        .subredditCreateDiv,\n        .iconContainer,\n        .subredditTitle {\n          background-color: ${darkMode ? \"rgb(62, 60, 60)\" : \"white\"};\n          color: ${darkMode ? \"white\" : \"black\"};\n        }\n        .subredditTitle {\n          background-color: ${darkMode ? \"rgb(52,53,65)\" : \"white\"};\n          color: ${darkMode ? \"white\" : \"black\"};\n        }\n\n        .homePageSubredditInfo,\n        .developerInfoDiv {\n          border: ${darkMode\n            ? \"1px solid rgb(38 35 35)\"\n            : \"1px solid rgb(206, 195, 195)\"};\n        }\n        .aboutSubreddit,\n        .developerInfoContent,\n        .createSubredditButton,\n        .createSubredditPost,\n        .userProfileBanner,\n        .aboutFollowedSubreddit {\n          background-color: ${darkMode ? \"rgb(98 122 146)\" : \"rgb(0,121,211)\"};\n        }\n\n        .createPostDiv {\n          background-color: ${darkMode ? \"rgb(52,53,65)\" : \"white\"};\n          border: ${darkMode\n            ? \"1px solid rgb(38 35 35)\"\n            : \"1px solid rgb(206, 195, 195)\"};\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default DarkModeButton;\n","import React, { useState } from \"react\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n// import LogoutButton from \"../auth/LogoutButton\";\nimport ProfileButton from \"./ProfileButton\";\nimport LoginFormModal from \"../LoginFormModal\";\nimport SignUpFormModal from \"../SignUpFormModal (unused)\";\nimport \"./NavBar.css\";\n// import logo from \"./logo.png\";\nimport raydittLogo from './raydditlogo.png';\nimport darkModeLogo from './darkModeLogo.png'\nimport DarkModeButton from \"../DarkMode\";\n\nconst NavBar = ({ isLoaded }) => {\n  const history = useHistory();\n  const sessionUser = useSelector((state) => state.session.user);\n  const [loginFormModalIsOpen, setLoginFormModalIsOpen] = useState(false);\n  const [signUpFormModalIsOpen, setSignUpFormModalIsOpen] = useState(false);\n  const [darkMode, setDarkMode] = useState(false);\n\n  const signUpPage = (subredditId) => {\n    let path = `/sign-up`;\n    history.push(path);\n  };\n\n  let sessionLinks;\n  if (sessionUser) {\n    sessionLinks = (\n      <>\n        <div id=\"rightNav\">\n          <ProfileButton user={sessionUser} />\n          <DarkModeButton darkMode={darkMode} setDarkMode={setDarkMode} />\n        </div>\n      </>\n    );\n  } else {\n    sessionLinks = (\n      <div id=\"rightNav\">\n        <button className=\"signUpButton\" onClick={signUpPage}>\n          {\" \"}\n          Sign up\n          {/* <Link to=\"/sign-up\">Sign Up</Link> */}\n        </button>\n        <SignUpFormModal\n          isOpen={signUpFormModalIsOpen}\n          modalToggle={setSignUpFormModalIsOpen}\n        />\n        <button\n          className=\"signInButton\"\n          onClick={() => setLoginFormModalIsOpen(true)}\n        >\n          {/* <Link to=\"/login\">Log in</Link> */}\n          Log In\n        </button>\n        <LoginFormModal\n          isOpen={loginFormModalIsOpen}\n          modalToggle={setLoginFormModalIsOpen}\n        />\n      </div>\n    );\n  }\n  return (\n    <nav>\n      <div id=\"navBarContainer\">\n        <div id=\"navBar\">\n          <div id=\"logo_div\">\n            <NavLink exact to=\"/\">\n              {/* <img src={logo} alt=\"rayddit\"></img> */}\n              <img className=\"raydditLogo\" src={darkMode ? darkModeLogo : raydittLogo} alt='raydditlogo'></img>\n            </NavLink>\n          </div>\n          {isLoaded && sessionLinks}\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default NavBar;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = props => {\n  const user = useSelector(state => state.session.user)\n  return (\n    <Route {...props}>\n      {(user)? props.children  : <Redirect to='/login' />}\n    </Route>\n  )\n};\n\n\nexport default ProtectedRoute;\n","import React, { useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nfunction UsersList() {\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const response = await fetch('/api/users/');\n      const responseData = await response.json();\n      setUsers(responseData.users);\n    }\n    fetchData();\n  }, []);\n\n  const userComponents = users.map((user) => {\n    return (\n      <li key={user.id}>\n        <NavLink to={`/users/${user.id}`}>{user.username}</NavLink>\n      </li>\n    );\n  });\n\n  return (\n    <>\n      <h1>User List: </h1>\n      <ul>{userComponents}</ul>\n    </>\n  );\n}\n\nexport default UsersList;\n","const CREATE_SUBREDDIT = \"subreddit/create\";\nconst GET_SUBREDDIT = \"subreddit/getsubreddit\";\nconst GET_ALL_SUBREDDITS = \"subreddit/getAll\";\nconst GET_ALL_USERS_SUBREDDITS = \"subreddit/getallUsersSubreddits\";\nconst EDIT_SUBREDDIT = \"subreddit/edit\";\nconst DELETE_SUBREDDIT = \"subreddit/delete\";\nconst SUBSCRIBE_TO_SUBREDDIT = \"subreddit/subscribe\";\n\n//Action Creators\nconst createSubreddit = (subreddit) => {\n  return {\n    type: CREATE_SUBREDDIT,\n    subreddit,\n  };\n};\n\nconst getAllSubreddits = (subreddits) => {\n  return {\n    type: GET_ALL_SUBREDDITS,\n    subreddits,\n  };\n};\n\nconst getSubreddit = (subreddit) => {\n  return {\n    type: GET_SUBREDDIT,\n    subreddit,\n  };\n};\n\nconst getAllUsersSubreddits = (subreddits) => {\n  return {\n    type: GET_ALL_USERS_SUBREDDITS,\n    subreddits,\n  };\n};\n\nconst editSubreddit = (subreddit) => {\n  return {\n    type: EDIT_SUBREDDIT,\n    subreddit,\n  };\n};\n\nconst deleteSubreddit = (deletedSubredditId) => {\n  return {\n    type: DELETE_SUBREDDIT,\n    deletedSubredditId,\n  };\n};\n\nconst subscribeToSubreddit = (subredditId) => {\n  return {\n    type: SUBSCRIBE_TO_SUBREDDIT,\n    subredditId,\n  };\n};\n\n//Thunks\n\nexport const createSubredditRequest = (newSubreddit) => async (dispatch) => {\n  const res = await fetch(\"/api/subreddits/\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(newSubreddit),\n  });\n  if (res.ok) {\n    const subreddit = await res.json();\n    dispatch(createSubreddit(subreddit));\n    return subreddit;\n  } else if (res.status < 500) {\n    // error handling\n    return await res.json();\n  } else {\n    return [\"An error occurred. Please try again.\"];\n  }\n};\n\n// Get all subreddits\nexport const getAllSubredditsRequest = () => async (dispatch) => {\n  const res = await fetch(`/api/subreddits/all`, {});\n  if (res.ok) {\n    const subreddits = await res.json();\n    dispatch(getAllSubreddits(subreddits));\n    return subreddits;\n  }\n  return res;\n};\n\n// Get a subreddit by id\nexport const getSubredditRequest = (subredditId) => async (dispatch) => {\n  const res = await fetch(`/api/subreddits/${subredditId}`, {});\n  if (res.ok) {\n    const subreddit = await res.json();\n    dispatch(getSubreddit(subreddit));\n    return subreddit;\n  }\n  return res;\n};\n\n// Get all users subreddits\nexport const getAllUsersSubredditsRequest = () => async (dispatch) => {\n  const res = await fetch(`/api/subreddits/subscriptions`, {});\n  if (res.ok) {\n    const subreddits = await res.json();\n    dispatch(getAllUsersSubreddits(subreddits));\n    return subreddits;\n  }\n  return res;\n};\n\n//Edit Subreddit\nexport const editSubredditRequest = (data) => async (dispatch) => {\n  const res = await fetch(`/api/subreddits/${data.id}`, {\n    method: \"PUT\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  });\n  if (res.ok) {\n    const editedSubreddit = await res.json();\n    dispatch(editSubreddit(editedSubreddit));\n    return editedSubreddit;\n  } else if (res.status < 500) {\n    // error handling\n    return await res.json();\n  } else {\n    return [\"An error occurred. Please try again.\"];\n  }\n};\n\n// Delete Subreddit\nexport const deleteSubredditRequest = (subredditId) => async (dispatch) => {\n  const res = await fetch(`/api/subreddits/${subredditId}`, {\n    method: \"DELETE\",\n  });\n  if (res.ok) {\n    dispatch(deleteSubreddit(subredditId));\n    return subredditId;\n  }\n  return res;\n};\n\n// Subscribe to Subreddit\nexport const subscribeToSubredditRequest =\n  (subredditId) => async (dispatch) => {\n    const res = await fetch(`/api/subreddits/${subredditId}/subscribe`, {\n      method: \"POST\",\n    });\n    if (res.ok) {\n      dispatch(subscribeToSubreddit(subredditId));\n      return subredditId;\n    }\n    return res;\n  };\n\n//Initial State\nlet initialState = {};\n\n//Reducer\nconst subredditReducer = (state = initialState, action) => {\n  let newState = {};\n  switch (action.type) {\n    case CREATE_SUBREDDIT: {\n      newState = { ...state };\n      newState[action.subreddit.id] = action.subreddit;\n      return newState;\n    }\n    case GET_ALL_SUBREDDITS: {\n      action.subreddits.forEach((subreddit) => {\n        newState[subreddit.id] = subreddit;\n      });\n      return { ...newState };\n    }\n    case GET_SUBREDDIT: {\n      newState = {};\n      newState[action.subreddit.id] = action.subreddit;\n      return newState;\n    }\n    case GET_ALL_USERS_SUBREDDITS: {\n      action.subreddits.forEach((subreddit) => {\n        newState[subreddit.id] = subreddit;\n      });\n      return { ...newState };\n    }\n    case EDIT_SUBREDDIT: {\n      newState = { ...state };\n      newState[action.subreddit.id] = action.subreddit;\n      return newState;\n    }\n    case DELETE_SUBREDDIT: {\n      newState = { ...state };\n      delete newState[action.deletedSubredditId];\n      return newState;\n    }\n    case SUBSCRIBE_TO_SUBREDDIT: {\n      newState = { ...state };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default subredditReducer;\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/brokenImageUpload.15e63250.png\";","const CREATE_POST = \"posts/create\";\nconst GET_POST = \"posts/getpost\";\nconst GET_ALL_POSTS = \"posts/getall\";\nconst GET_ALL_SUBREDDITS_POSTS = \"subreddit/get_all_subreddits_post\";\nconst GET_USER_POSTS = \"posts/getuserposts\";\nconst EDIT_POST = \"posts/edit\";\nconst DELETE_POST = \"posts/delete\";\nconst UPVOTE_POST = \"posts/upvote\";\nconst DOWNVOTE_POST = \"posts/downvote\";\n\n// Action Creators\nconst createPost = (post) => {\n  return {\n    type: CREATE_POST,\n    post,\n  };\n};\n\nconst getPost = (post) => {\n  return {\n    type: GET_POST,\n    post,\n  };\n};\n\nconst getAllPosts = (posts) => {\n  return {\n    type: GET_ALL_POSTS,\n    posts,\n  };\n};\n\nconst getAllSubredditsPosts = (posts) => {\n  return {\n    type: GET_ALL_SUBREDDITS_POSTS,\n    posts,\n  };\n};\n\nconst getUserPosts = (posts) => {\n  return {\n    type: GET_USER_POSTS,\n    posts,\n  };\n};\n\nconst editPost = (post) => {\n  return {\n    type: EDIT_POST,\n    post,\n  };\n};\n\nconst deletePost = (deletedPostId) => {\n  return {\n    type: DELETE_POST,\n    deletedPostId,\n  };\n};\n\nconst upvotePost = (post) => {\n  return {\n    type: UPVOTE_POST,\n    post,\n  };\n};\n\nconst downvotePost = (post) => {\n  return {\n    type: DOWNVOTE_POST,\n    post,\n  };\n};\n\n// Thunks\n\n//Create\nexport const createPostRequest = (newPost) => async (dispatch) => {\n  const res = await fetch(\"/api/posts/\", {\n    method: \"POST\",\n    body: newPost,\n  });\n  if (res.ok) {\n    const post = await res.json();\n    dispatch(createPost(post));\n    return post;\n  } else if (res.status < 500) {\n    // error handling\n    return await res.json();\n  } else {\n    return [\"An error occurred. Please try again.\"];\n  }\n};\n\n// Get all posts\nexport const getAllPostsRequest = () => async (dispatch) => {\n  const res = await fetch(`/api/posts/all`, {});\n  if (res.ok) {\n    const posts = await res.json();\n    dispatch(getAllPosts(posts));\n    return posts;\n  }\n  return res;\n};\n\n// Get all posts from a subreddit\nexport const getAllSubredditsPostsRequest =\n  (subredditId) => async (dispatch) => {\n    const res = await fetch(`/api/subreddits/${subredditId}/posts`, {});\n    if (res.ok) {\n      const posts = await res.json();\n      dispatch(getAllSubredditsPosts(posts));\n      // console.log(\"HERE\")\n      // console.log(posts)\n      return posts;\n    }\n    return res;\n  };\n\n// Get all posts authored by a user (profile)\nexport const getUserPostsRequest = (userId) => async (dispatch) => {\n  const res = await fetch(`/api/users/${userId}/posts_by_user`, {});\n  if (res.ok) {\n    const posts = await res.json();\n    dispatch(getUserPosts(posts));\n    return posts;\n  }\n  return res;\n};\n\n//Load post by id\nexport const getPostRequest = (postId) => async (dispatch) => {\n  const res = await fetch(`/api/posts/${postId}`);\n  if (res.ok) {\n    const post = await res.json();\n    dispatch(getPost(post));\n    return post;\n  }\n  return res;\n};\n\n//Edit post\nexport const editPostRequest = (data) => async (dispatch) => {\n  const res = await fetch(`/api/posts/${data.id}`, {\n    method: \"PUT\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  });\n  if (res.ok) {\n    const editedPost = await res.json();\n    dispatch(editPost(editedPost));\n    return editedPost;\n  } else if (res.status < 500) {\n    // error handling\n    return await res.json();\n  } else {\n    return [\"An error occurred. Please try again.\"];\n  }\n};\n\n//Delete post\nexport const deletePostRequest = (postId) => async (dispatch) => {\n  const res = await fetch(`/api/posts/${postId}`, {\n    method: \"DELETE\",\n  });\n  if (res.ok) {\n    dispatch(deletePost(postId));\n    return postId;\n  }\n  return res;\n};\n\n// Upvote post\nexport const upvotePostRequest = (postId) => async (dispatch) => {\n  const res = await fetch(`/api/posts/${postId}/upvote`, {\n    method: \"POST\",\n  });\n  if (res.ok) {\n    const post = await res.json();\n    dispatch(upvotePost(post));\n    return post;\n  }\n  return res;\n};\n\n// Downvote post\nexport const downvotePostRequest = (postId) => async (dispatch) => {\n  const res = await fetch(`/api/posts/${postId}/downvote`, {\n    method: \"POST\",\n  });\n  if (res.ok) {\n    const post = await res.json();\n    dispatch(downvotePost(post));\n    return post;\n  }\n  return res;\n};\n\n//Initial State\nlet initialState = {};\n\n//Reducer:\nconst postsReducer = (state = initialState, action) => {\n  let newState = {};\n  switch (action.type) {\n    case CREATE_POST: {\n      newState = { ...state };\n      newState[action.post.id] = action.post;\n      return newState;\n    }\n    case GET_POST: {\n      newState = {}; // don't return all posts, return only the fetched post\n      newState[action.post.id] = action.post;\n      return newState;\n    }\n    case GET_ALL_POSTS: {\n      action.posts.forEach((post) => {\n        newState[post.id] = post;\n      });\n      // console.log(newState);\n      // console.log(Object.values(newState));\n      // newState = Object.values(newState).sort(\n      //   (postA, postB) => postA.created_at > postB.created_at\n      // );\n      // console.log(\"NEW STATE\");\n      // console.log(newState);\n      return { ...newState };\n    }\n    case GET_ALL_SUBREDDITS_POSTS: {\n      action.posts.forEach((post) => {\n        newState[post.id] = post;\n      });\n      return { ...newState };\n    }\n    case GET_USER_POSTS: {\n      action.posts.forEach((post) => {\n        newState[post.id] = post;\n      });\n      return { ...newState };\n    }\n    case EDIT_POST: {\n      newState = { ...state };\n      newState[action.post.id] = action.post;\n      return newState;\n    }\n    case DELETE_POST: {\n      newState = { ...state };\n      delete newState[action.deletedPostId];\n      return newState;\n    }\n    case UPVOTE_POST: {\n      newState = { ...state };\n      newState[action.post.id] = action.post;\n      return newState;\n    }\n    case DOWNVOTE_POST: {\n      newState = { ...state };\n      newState[action.post.id] = action.post;\n      return newState;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default postsReducer;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./PostCard.css\";\nimport imgUrlBackup from \"./brokenImageUpload.png\";\n\nimport { downvotePostRequest, upvotePostRequest } from \"../../store/posts\";\n\nimport {\n  // TiArrowUpOutline,\n  TiArrowUpThick,\n  // TiArrowDownOutline,\n  TiArrowDownThick,\n} from \"react-icons/ti\";\n\nconst PostCard = ({ post, modalToggle }) => {\n  // console.log(modalToggle);\n  const POST_TYPE_TEXT = 1;\n  const POST_TYPE_IMAGE = 2;\n  const POST_TYPE_LINK = 3;\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const sessionUser = useSelector((state) => state.session.user);\n\n  const [isUpvotedByUser, setIsUpvotedByUser] = useState(false);\n  const [isDownvotedByUser, setIsDownvotedByUser] = useState(false);\n\n  useEffect(() => {\n    setIsUpvotedByUser(false);\n    post.votes.forEach((vote) => {\n      if (sessionUser && sessionUser.id === vote.user_id) {\n        if (vote.value === 1) {\n          setIsUpvotedByUser(true);\n        } else if (vote.value === -1) {\n          setIsDownvotedByUser(true);\n        }\n        return;\n      }\n    });\n  }, [post, sessionUser]);\n\n  const formatDate = (date) => {\n    if (date) {\n      return new Intl.DateTimeFormat(\"en\", {\n        dateStyle: \"medium\",\n        timeStyle: \"short\",\n      }).format(new Date(date));\n    }\n  };\n\n  const upvotePost = (postId) => {\n    if (!sessionUser) {\n      modalToggle(true);\n    } else {\n      dispatch(upvotePostRequest(postId));\n      setIsUpvotedByUser(!isUpvotedByUser);\n      setIsDownvotedByUser(false);\n    }\n  };\n\n  const downvotePost = (postId) => {\n    if (!sessionUser) {\n      modalToggle(true);\n    } else {\n      dispatch(downvotePostRequest(postId));\n      setIsDownvotedByUser(!isDownvotedByUser);\n      setIsUpvotedByUser(false);\n    }\n  };\n\n  const postDetailPage = (postId) => {\n    let path = `/posts/${postId}`;\n    history.push(path);\n  };\n\n  const subredditPage = (subredditId) => {\n    let path = `/r/${subredditId}`;\n    history.push(path);\n  };\n\n  const usersProfilePage = (userId) => {\n    let path = `/user/${userId}`;\n    history.push(path);\n  };\n\n  return (\n    <div className=\"outerPostContainer\" key={post.id}>\n      <div className=\"voteDiv\">\n        {isUpvotedByUser ? (\n          <TiArrowUpThick\n            className=\"thickUpvote\"\n            onClick={() => upvotePost(post.id)}\n          />\n        ) : (\n          <TiArrowUpThick\n            className=\"thickUpvoteNormal\"\n            onClick={() => upvotePost(post.id)}\n          ></TiArrowUpThick>\n        )}\n        {isUpvotedByUser ? (\n          <span className=\"upvotedTotalCount\">{post.total_votes}</span>\n        ) : isDownvotedByUser ? (\n          <span className=\"downvotedTotalCount\">{post.total_votes}</span>\n        ) : (\n          <span className=\"unvotedTotalCount\">{post.total_votes}</span>\n        )}\n\n        {isDownvotedByUser ? (\n          <TiArrowDownThick\n            className=\"thickDownvote\"\n            onClick={() => downvotePost(post.id)}\n          />\n        ) : (\n          <TiArrowDownThick\n            className=\"thickDownvoteNormal\"\n            onClick={() => downvotePost(post.id)}\n          ></TiArrowDownThick>\n        )}\n      </div>\n      <div className=\"postContainer\">\n        <div className=\"postTopDescription\">\n          <div\n            className=\"postSubredditName\"\n            onClick={(e) => subredditPage(post.subreddit_id)}\n          >\n            r/{post.subreddit_name}\n          </div>\n          <div\n            className=\"postUsername\"\n            onClick={(e) => usersProfilePage(post.user_id)}\n          >\n            u/{post.username}\n          </div>\n          <div className=\"postTimeago\">{formatDate(post.created_at)}</div>\n        </div>\n        <div className=\"postTitle\" onClick={(e) => postDetailPage(post.id)}>\n          <span\n            className=\"postTitleSpan\"\n            onClick={(e) => postDetailPage(post.id)}\n          >\n            {post.title}\n          </span>\n        </div>\n        <div className=\"postContent\" onClick={(e) => postDetailPage(post.id)}>\n          {(() => {\n            if (post.post_type_id === POST_TYPE_TEXT) {\n              return <div className=\"postText\">{post.text}</div>;\n            } else if (post.post_type_id === POST_TYPE_IMAGE) {\n              return (\n                <img\n                  className=\"postImage\"\n                  src={post.img_url}\n                  alt=\"postImage\"\n                  onError={(e) => {\n                    e.currentTarget.src = imgUrlBackup;\n                  }}\n                />\n              );\n            } else if (post.post_type_id === POST_TYPE_LINK) {\n              return (\n                <a className=\"postLinkurl\" href={post.link_url}>\n                  {post.link_url}\n                </a>\n              );\n            }\n          })()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PostCard;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { getAllSubredditsRequest } from \"../../store/subreddits\";\nimport createIcon from \"./createIcon.png\";\nimport linkedin from \"./linkedin.png\";\nimport github from \"./github.png\";\n\nimport \"./Homepage.css\";\nimport PostCard from \"../PostCard\";\nimport LoginFormModal from \"../LoginFormModal\";\n\nimport { getAllPostsRequest } from \"../../store/posts\";\n\nconst Homepage = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n  const sessionUser = useSelector((state) => state.session.user);\n  const subredditInfo = useSelector((state) => Object.values(state.subreddits));\n  const posts = useSelector((state) => {\n    let posts = Object.values(state.posts);\n    posts = posts.sort((postA, postB) =>\n      new Date(postA.created_at) < new Date(postB.created_at) ? 1 : -1\n    );\n    return posts;\n  });\n\n  const [loginFormModalIsOpen, setIsLoginFormModalIsOpen] = useState(false);\n  const [postsLoaded, setPostsLoaded] = useState(false);\n  const [subredditLoaded, setSubredditLoaded] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage] = useState(5);\n\n  useEffect(() => {\n    dispatch(getAllSubredditsRequest()).then(() => {\n      setSubredditLoaded(true);\n    });\n    dispatch(getAllPostsRequest()).then(() => {\n      setPostsLoaded(true);\n    });\n  }, [dispatch]);\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  const handleScroll = () => {\n    if (\n      window.innerHeight + window.scrollY <\n      document.body.offsetHeight - 100\n    ) {\n      return;\n    }\n\n    setTimeout(() => {\n      setCurrentPage((prevPage) => prevPage + 1);\n    }, 500);\n  };\n\n  const createPostPage = () => {\n    if (!sessionUser) {\n      setIsLoginFormModalIsOpen(true);\n    } else {\n      let path = `/submit`;\n      history.push(path);\n    }\n  };\n\n  const createSubredditPage = () => {\n    if (!sessionUser) {\n      setIsLoginFormModalIsOpen(true);\n    } else {\n      let path = `/create-subreddit`;\n      history.push(path);\n    }\n  };\n\n  const subredditsPage = (subredditId) => {\n    let path = `/r/${subredditId}`;\n    history.push(path);\n  };\n\n  return (\n    <div className=\"pageContainer\">\n      <createPostPage />\n      <LoginFormModal\n        isOpen={loginFormModalIsOpen}\n        modalToggle={setIsLoginFormModalIsOpen}\n      />\n      <div className=\"homePageDiv\">\n        <div className=\"rowOne\">\n          <div className=\"createPostDiv\">\n            <div className=\"createIcon\">\n              <img src={createIcon} alt=\"createIcon\"></img>\n            </div>\n            <div className=\"createInputContainer\">\n              <input\n                type=\"text\"\n                placeholder=\"Create Post\"\n                className=\"inputBox\"\n                onClick={createPostPage}\n              />\n            </div>\n          </div>\n          {postsLoaded ? (\n            posts.length ? (\n              <>\n                {posts.slice(0, currentPage * postsPerPage).map((post) => (\n                  <PostCard\n                    key={post.id}\n                    post={post}\n                    modalToggle={setIsLoginFormModalIsOpen}\n                  />\n                ))}\n                {posts.length > currentPage * postsPerPage && (\n                  <div>Loading...</div>\n                )}\n              </>\n            ) : (\n              <div>No posts yet</div>\n            )\n          ) : (\n            <div>Loading...</div>\n          )}\n        </div>\n        <div className=\"rowTwo\">\n          <div className=\"homePageSubredditInfo\">\n            <div className=\"aboutSubreddit\">\n              <span>Recommended Communities</span>\n            </div>\n            <div className=\"homepageSubredditContent\">\n              {subredditLoaded &&\n                subredditInfo.map((subreddit) => {\n                  return (\n                    <div key={subreddit.id}>\n                      <div\n                        className=\"homepageSubredditDescriptionDiv\"\n                        onClick={(e) => subredditsPage(subreddit.id)}\n                      >\n                        <div className=\"homepageSubredditDescription\">\n                          <div className=\"homeSubredditIcon\">\n                            <img\n                              src={subreddit.icon_url}\n                              alt=\"subredditIcon\"\n                              onError={(e) => {\n                                e.currentTarget.src =\n                                  \"https://i.imgur.com/hkMSod3.png\";\n                              }}\n                            ></img>\n                          </div>\n                          <div className=\"homeSubredditName\">\n                            {subreddit.name}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n            </div>\n            <div className=\"subredditCreateDiv\">\n              <div\n                className=\"createSubredditButton\"\n                onClick={createSubredditPage}\n              >\n                {\" \"}\n                Create a Subreddit\n              </div>\n            </div>\n          </div>\n          <div className=\"developerInfoDiv\">\n            <div className=\"developerInfoContent\">\n              <span>Developer's Links:</span>\n            </div>\n            <div className=\"devLinkIcons\">\n              <a\n                className=\"iconContainer\"\n                href=\"https://github.com/RayC206/Rayddit\"\n              >\n                <div className=\"githubIcon\">\n                  <img src={github} alt=\"gitHubLogo\"></img>\n                  <span>Github</span>\n                </div>\n              </a>\n              <a\n                className=\"iconContainer\"\n                href=\"https://www.linkedin.com/in/ray-charles-henry/\"\n              >\n                <div className=\"linkedInIcon\">\n                  <img src={linkedin} alt=\"linkedInLogo\"></img>\n                  <span>LinkedIn</span>\n                </div>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Homepage;\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJUlEQVR42u1bTWsTQRiedZGIeolni8d69eTB0P/gwZw0/QG5StpCvGY9CGlA0LMXPW0ubhsvoi2SgyV6KKihFkQtKgSLTaRQ4vhOnC2b7SYmuzM782Z34KFkM9mZ5+l8vh+ESC7GkjMHuAGoAGxAC7AH6AH6HD3+rMXrWIA8+y3BVoySY0DHc4AqoA2gEcHesfrvnU8NfYkvOVlACbAjgPQofORtZHUifoEP2V8SifvB2rrL2lZJ3AQUAZ0YifvR4X0w4yY/D2gqJO4H68t8XOQLgK5G5F2wPi3KHvI1DYn7URM+JeCFZ/j+TJGgzvoskvw6IvIuGpFFMJYHw76OkLx3JJhR/vs1xOSP14Sw5BdngLyLQph9vjtDAnQnPifw7a45Q+S9hyVzEgGKM0jeRXGSi81UZ/vrj7bo94NDGndhbbK2Q9wdsuMEsKZVVQV5rwghRoE17j4/9ZVWdQl5lc4GCVAKM68QCsBQ8pM3wlpygsrGbodeqW3S0ytrg78v4bNmAjCuhleAXNiV1V8+/fxNz99pDNVhn9lzjQRgyHkFWBUlQHVzN7Aee66ZAFWvAO0ECtD22u1pAqcAHfgduANCmABBi+CGfougizzhHhuhAiDYBl1USFRTF3IBbML9cUIFGFdv1HevP+/Tm4/f0EvW88HUOVtu0IWHTWpvf5MpQItwp6RSAepAkpEe1cZt550sAfYI98wqFeDyvRf/bWfUSIgoQI9w97RSAU4tO/Tq/Ve0/OwDvfXkLT1Xbpyow6aDBAH6Wgiw8KBJj/p/jutsfdk/UYetCbIEUD4F1t//mOodoqeA8kXw4PBIlQBftdkGFQnQknIQQiSALeUojEiAipTLECIB8sKvw8gEmBNuEEEkQFuKSQyRAFUpRlFEAuS8gRBCzeII7AHDZvHEO0ZS11jqHE3d42mARBoikwZJBQZFJzNMLg2UHF4PbMTk7ciR4/CCDNJgadbnjKiI8QzCcPmM6JwBM8q1GXXCBKKUmQKJoyQ6aSpNmwu+RqtInLSUJk4qSp3d0S51NkAIZl67Jid5ek3f5OkxglwMkT5fiSt9/i9Wci4m0iAULQAAAABJRU5ErkJggg==\"","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { createPostRequest } from \"../../store/posts\";\nimport icon from \"./icon.png\";\nimport {\n  // getAllUsersSubredditsRequest,\n  getAllSubredditsRequest,\n} from \"../../store/subreddits\";\nimport \"./CreatePost.css\";\n\nconst CreatePost = () => {\n  const POST_TYPE_TEXT = 1;\n  const POST_TYPE_IMAGE = 2;\n  const POST_TYPE_LINK = 3;\n\n  const dispatch = useDispatch();\n  const subreddits = useSelector((state) => Object.values(state.subreddits));\n  const urlParams = new URLSearchParams(window.location.search);\n  let subredditId = Number(urlParams.get(\"subreddit_id\"));\n  subredditId = subredditId > 0 ? subredditId : 1;\n  // console.log(\"--------\", subredditId);\n\n  const [title, setTitle] = useState(null);\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const [image, setImage] = useState(null);\n  const [linkUrl, setLinkUrl] = useState(\"\");\n  const [text, setText] = useState(\"\");\n  const [subreddit, setSubreddit] = useState(subredditId);\n  const [postType, setPostType] = useState(1);\n  const [errors, setErrors] = useState([]);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n\n  const [subredditsLoaded, setSubredditsLoaded] = useState(false);\n\n  useEffect(() => {\n    // dispatch(getAllUsersSubredditsRequest()).then(() => {\n    //   setSubredditsLoaded(true);\n    // });\n    dispatch(getAllSubredditsRequest()).then(() => {\n      setSubredditsLoaded(true);\n    });\n  }, [dispatch]);\n\n  if (submitSuccess) {\n    return <Redirect to=\"/\" />;\n  }\n\n  const selectPostType = (postType) => {\n    setPostType(postType);\n  };\n\n  const handleSubredditChange = (e) => {\n    // console.log(\"TARGET VALUE\")\n    // console.log(e.target.value)\n    setSubreddit(e.target.value);\n    // console.log(subreddit);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setErrors([]);\n    const formData = new FormData();\n    // let newPostData = {\n    //   title: title,\n    //   img_url: imageUrl,\n    //   link_url: linkUrl,\n    //   text: text,\n    //   subreddit_id: subreddit,\n    //   post_type_id: postType,\n    // };\n    formData.append(\"title\", title);\n    formData.append(\"post_type_id\", postType);\n    formData.append(\"subreddit_id\", subreddit);\n    formData.append(\"text\", text);\n    formData.append(\"image\", image);\n    formData.append(\"img_url\", imageUrl);\n    formData.append(\"link_url\", linkUrl);\n\n    // console.log(\"SUBMITTED POST\");\n    // console.log(newPostData);\n    return dispatch(createPostRequest(formData)).then(async (res) => {\n      if (!res.errors) {\n        setSubmitSuccess(true);\n      } else {\n        setErrors(Object.values(res.errors));\n      }\n    });\n  };\n\n  return (\n    <div className=\"formPageContainer\">\n      <div className=\"formContainer\">\n        <div className=\"createPostTitle\">Create a Post</div>\n        <ul>\n          {errors.map((error, idx) => (\n            <li className=\"errorDiv\" key={idx}>\n              {error}\n            </li>\n          ))}\n        </ul>\n        <div className=\"subredditDropdownDiv\">\n          <select\n            className=\"subredditDropdownSelect\"\n            onChange={handleSubredditChange}\n          >\n            {subredditsLoaded &&\n              subreddits.map((subreddit) => {\n                return (\n                  <option\n                    key={subreddit.id}\n                    value={subreddit.id}\n                    selected={subreddit.id === subredditId}\n                  >\n                    r/{subreddit.name}\n                  </option>\n                );\n              })}\n          </select>\n        </div>\n        {/* post type radio buttons */}\n        <div className=\"mainFormContainer\">\n          <div>\n            <div className=\"createPostType\">\n              <button\n                className=\"createButtonText\"\n                onClick={() => {\n                  selectPostType(POST_TYPE_TEXT);\n                }}\n              >\n                Text\n              </button>\n              <button\n                className=\"createButtonImage\"\n                onClick={() => {\n                  selectPostType(POST_TYPE_IMAGE);\n                }}\n              >\n                Image\n              </button>\n              <button\n                className=\"createButtonLink\"\n                onClick={() => {\n                  selectPostType(POST_TYPE_LINK);\n                }}\n              >\n                Link\n              </button>\n            </div>\n          </div>\n          <br />\n          <div className=\"createInputBoxes\">\n            {postType === POST_TYPE_TEXT && (\n              <form className=\"postsCreate\" onSubmit={handleSubmit}>\n                <div>\n                  <label className=\"createTitle\">\n                    <input\n                      className=\"createTitleInputBox\"\n                      type=\"text\"\n                      placeholder=\"Title\"\n                      value={title}\n                      onChange={(e) => setTitle(e.target.value)}\n                      required\n                    />\n                  </label>\n                </div>\n                <div>\n                  <label className=\"createTitle\">\n                    <textarea\n                      className=\"createTextInputBox\"\n                      type=\"text\"\n                      placeholder=\"Text (optional)\"\n                      value={text}\n                      onChange={(e) => setText(e.target.value)}\n                    />\n                  </label>\n                </div>\n                <div className=\"createPostButtonDiv\">\n                  <button className=\"createPostButton\" type=\"submit\">\n                    Create new post\n                  </button>\n                </div>\n              </form>\n            )}\n\n            {postType === POST_TYPE_IMAGE && (\n              <form className=\"postsCreate\" onSubmit={handleSubmit}>\n                <label className=\"createTitle\">\n                  <input\n                    className=\"createTitleInputBox\"\n                    type=\"textarea\"\n                    placeholder=\"Title\"\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                    required\n                  />\n                </label>\n                {/* <label className=\"createTitle\">\n                  <input\n                    className=\"createTitleInputBox\"\n                    type=\"text\"\n                    placeholder=\"Image URL\"\n                    value={imageUrl}\n                    onChange={(e) => setImageUrl(e.target.value)}\n                  />\n                </label> */}\n                <label className=\"createTitle\">\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    name=\"image\"\n                    onChange={(e) => {\n                      setImage(e.target.files[0]);\n                      setImageUrl(e.target.value);\n                    }}\n                  />\n                </label>\n                <div className=\"createPostButtonDiv\">\n                  <button className=\"createPostButton\" type=\"submit\">\n                    Create new post\n                  </button>\n                </div>\n              </form>\n            )}\n\n            {postType === POST_TYPE_LINK && (\n              <form className=\"postsCreate\" onSubmit={handleSubmit}>\n                <label className=\"createTitle\">\n                  <input\n                    className=\"createTitleInputBox\"\n                    type=\"text\"\n                    placeholder=\"Title\"\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                    required\n                  />\n                </label>\n                <label className=\"createTitle\">\n                  <input\n                    className=\"createTitleInputBox\"\n                    type=\"text\"\n                    placeholder=\"Link URL\"\n                    value={linkUrl}\n                    onChange={(e) => setLinkUrl(e.target.value)}\n                  />\n                </label>\n                <div className=\"createPostButtonDiv\">\n                  <button className=\"createPostButton\" type=\"submit\">\n                    Create new post\n                  </button>\n                </div>\n              </form>\n            )}\n          </div>\n          {/* <label className=\"createSubreddit\">\n          <span>Subreddit:</span>\n          <input\n            type=\"text\"\n            placeholder=\"Subreddit\"\n            value={subreddit}\n            // onChange={(e) => setPreviewImage(e.target.value)}\n          />\n        </label> */}\n        </div>\n      </div>\n      <div className=\"sideCreateContainer\">\n        <div className=\"postingRules\">\n          <img src={icon} alt=\"ruleIcon\"></img>\n          <span>Posting to Rayddit</span>\n        </div>\n        <ol>\n          <li className=\"ruleList\">Remember the human</li>\n          <li className=\"ruleList\">Behave like you would in real life</li>\n          <li className=\"ruleList\">Look for the original source of content</li>\n          <li className=\"ruleList\">Search for duplicates before posting</li>\n          <li className=\"ruleList\">Report any bugs to the developer</li>\n        </ol>\n      </div>\n    </div>\n  );\n};\n\nexport default CreatePost;\n","export default \"data:image/png;base64,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\"","const CREATE_COMMENT = \"comment/createComment\";\nconst GET_POST_COMMENTS = \"comment/getComments\";\nconst EDIT_COMMENT = \"comment/updateComment\";\nconst DELETE_COMMENT = \"comment/deleteComment\";\n\n// Action Creators\nconst createComment = (comment) => {\n  return {\n    type: CREATE_COMMENT,\n    comment,\n  };\n};\n\nconst getPostComments = (comments) => {\n  return {\n    type: GET_POST_COMMENTS,\n    comments,\n  };\n};\n\nconst editComment = (comment) => {\n  return {\n    type: EDIT_COMMENT,\n    comment,\n  };\n};\n\nconst deleteComment = (comment) => {\n  return {\n    type: DELETE_COMMENT,\n    comment,\n  };\n};\n\n// Thunks\n\n//Create\nexport const createCommentRequest = (newComment) => async (dispatch) => {\n  const res = await fetch(`/api/posts/${newComment.post_id}/comments/create`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(newComment),\n  });\n  if (res.ok) {\n    const comment = await res.json();\n    dispatch(createComment(comment));\n    return comment;\n  } else if (res.status < 500) {\n    return await res.json();\n  } else {\n    return [\"An error occurred. Please try again\"];\n  }\n};\n\n// Get all post's comments\nexport const getAllPostCommentsRequest = (postId) => async (dispatch) => {\n  const res = await fetch(`/api/posts/${postId}/comments`, {});\n  if (res.ok) {\n    const comments = await res.json();\n    dispatch(getPostComments(comments));\n    return comments;\n  }\n  return res;\n};\n\n// Edit comment\nexport const editCommentRequest = (data) => async (dispatch) => {\n  const res = await fetch(`/api/comments/${data.id}`, {\n    method: \"PUT\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  });\n  if (res.ok) {\n    const editedComment = await res.json();\n    dispatch(editComment(editedComment));\n    return editedComment;\n  } else if (res.status < 500) {\n    return await res.json();\n  } else {\n    return [\"An error occured. Please try again\"];\n  }\n};\n\n// Delete comment\nexport const deleteCommentRequest = (comment) => async (dispatch) => {\n  const res = await fetch(`/api/comments/${comment.id}`, {\n    method: \"DELETE\",\n  });\n  if (res.ok) {\n    dispatch(deleteComment(comment));\n    return comment;\n  }\n  return res;\n};\n\n//Initial State\nlet initialState = {};\n\n//Reducer\nconst commentsReducer = (state = initialState, action) => {\n  let newState = {};\n  switch (action.type) {\n    case CREATE_COMMENT: {\n      newState = { ...state };\n      // console.log(\"COMMENT\");\n      // console.log(action.comment);\n      if (action.comment.parent_id) {\n        // if newly created comment is a reply, append to parent comment's replies array\n        newState[action.comment.parent_id].replies.push(action.comment);\n        console.log(newState[action.comment.parent_id].replies);\n      } else {\n        newState[action.comment.id] = action.comment;\n      }\n      return newState;\n    }\n    case GET_POST_COMMENTS: {\n      // console.log(\"GET_POST_COMMENTS\");\n      // console.log(action.comments);\n      action.comments.forEach((comment) => {\n        newState[comment.id] = comment;\n      });\n      return { ...newState };\n    }\n    case EDIT_COMMENT: {\n      newState = { ...state };\n      console.log(\"EDIT COMMENT\");\n      console.log(action.comment);\n      if (action.comment.parent_id) {\n        // replies\n        newState[action.comment.parent_id].replies.forEach((reply, index) => {\n          if (reply.id === action.comment.id) {\n            newState[action.comment.parent_id].replies[index] = action.comment;\n          }\n        });\n      } else {\n        newState[action.comment.id] = action.comment;\n      }\n      return newState;\n    }\n    case DELETE_COMMENT: {\n      newState = { ...state };\n      if (action.comment.parent_id) {\n        // if deleted comment is a reply, remove from the parent comment's replies array\n        newState[action.comment.parent_id].replies = newState[\n          action.comment.parent_id\n        ].replies.filter((reply) => {\n          return reply.id !== action.comment.id;\n        });\n      }\n      delete newState[action.comment.id];\n      return newState;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default commentsReducer;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport './EditComment.css'\n\nimport {\n  getAllPostCommentsRequest,\n  editCommentRequest,\n} from \"../../store/comments\";\n\nconst EditComment = ({ comment, onSuccess }) => {\n  let { commentId } = useParams();\n  commentId = Number(commentId);\n  const dispatch = useDispatch();\n  // const sessionUser = useSelector((state) => state.session.user);\n  const [text, setText] = useState(comment.text);\n  const [errors, setErrors] = useState([]);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setErrors([]);\n    let editedComment = {\n      id: comment.id,\n      text: text,\n    };\n    return dispatch(editCommentRequest(editedComment)).then(async (res) => {\n      if (!res.errors) {\n        setSubmitSuccess(true);\n        onSuccess();\n      } else {\n        setErrors(Object.values(res.errors));\n      }\n    });\n  };\n\n  return (\n    <div className=\"editCommentFormContainer\">\n      <div className=\"innerEditCommentFormContainer\">\n        <form className=\"commentEditForm\" onSubmit={handleSubmit}>\n          <div>\n            <span>Edit Comment:</span>\n          </div>\n          <ul>\n            {errors.map((error, idx) => (\n              <li className=\"errorDiv\" key={idx}>\n                {error}\n              </li>\n            ))}\n          </ul>\n          <div className=\"editCommentFormInputs\">\n            <textarea\n              type=\"text\"\n              value={text}\n              onChange={(e) => setText(e.target.value)}\n            />\n          </div>\n          <div className=\"editCommentButtonDiv\">\n            <button\n              className=\"cancelEditCommentButton\"\n              onClick={() => {\n                onSuccess();\n              }}\n            >\n              Cancel\n            </button>\n            <button className=\"editCommentFormButton\" type=\"submit\">\n              Edit Comment\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default EditComment;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { createCommentRequest } from \"../../store/comments\";\nimport \"./CreateComment.css\";\n\nconst CreateComment = ({ post, replyToId = null, onSuccess = null }) => {\n  const dispatch = useDispatch();\n  const [text, setText] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n  const sessionUser = useSelector((state) => state.session.user);\n\n  // console.log(post.id);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setErrors([]);\n    let newComment = {\n      text: text,\n      post_id: post.id,\n    };\n    if (replyToId) {\n      newComment.parent_id = replyToId;\n    }\n    return dispatch(createCommentRequest(newComment)).then(async (res) => {\n      if (!res.errors) {\n        setSubmitSuccess(true);\n        setText(\"\");\n        onSuccess && onSuccess();\n      } else {\n        setErrors(Object.values(res.errors));\n      }\n    });\n  };\n\n  return (\n    <div className=\"commentFormContainer\">\n      <form className=\"innerCommentFormContainer\" onSubmit={handleSubmit}>\n        <div className=\"commentForm\">\n          {/* <div className=\"createCommentTitle\">Create Comment</div> */}\n          <ul>\n            {errors.map((error, idx) => (\n              <li className=\"errorDiv\" key={idx}>\n                {error}\n              </li>\n            ))}\n          </ul>\n\n          <span className=\"commentAsSpan\">\n            {\" \"}\n            Comment as{\" \"}\n            <a href={`/user/${sessionUser.id}`}>{sessionUser.username}</a>\n          </span>\n          <label>\n            <textarea\n              className=\"commentTextBox\"\n              type=\"text\"\n              placeholder=\"What are your thoughts?\"\n              value={text}\n              onChange={(e) => setText(e.target.value)}\n            />\n          </label>\n        </div>\n        <div className=\"createCommentButtonDiv\">\n          {replyToId && (\n            <button\n              className=\"\"\n              onClick={() => {\n                onSuccess && onSuccess();\n              }}\n            >\n              Cancel\n            </button>\n          )}\n          <button className=\"createCommentButton\" type=\"submit\">\n            Create Comment\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default CreateComment;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { getSubredditRequest } from \"../../store/subreddits\";\nimport PostCard from \"../PostCard\";\nimport LoginFormModal from \"../LoginFormModal\";\nimport \"./PostDetails.css\";\nimport EditComment from \"../EditComment\";\n\nimport { AiFillCaretRight } from \"react-icons/ai\";\n\nimport { getPostRequest, deletePostRequest } from \"../../store/posts\";\nimport {\n  getAllPostCommentsRequest,\n  deleteCommentRequest,\n} from \"../../store/comments\";\nimport CreateComment from \"../CreateComment\";\n\n// import ErrorPage from \"../ErrorPage\";\n\nconst PostDetails = () => {\n  // const POST_TYPE_TEXT = 1;\n  // const POST_TYPE_IMAGE = 2;\n  // const POST_TYPE_LINK = 3;\n\n  let { postId } = useParams();\n  postId = Number(postId);\n  let subredditId;\n  // subredditId = Number(subredditId);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const subredditInfo = useSelector((state) => Object.values(state.subreddits));\n  const post = useSelector((state) => Object.values(state.posts));\n  const sessionUser = useSelector((state) => state.session.user);\n  const comments = useSelector((state) => Object.values(state.comments));\n  const [loginFormModalIsOpen, setIsLoginFormModalIsOpen] = useState(false);\n  const [openCommentEditFormId, setOpenCommentEditFormId] = useState(false);\n  const [openCommentReplyFormId, setOpenCommentReplyFormId] = useState(false);\n  // console.log(\"COMMENTS\");\n  // console.log(comments);\n\n  if (post && post.length) {\n    subredditId = post[0].subreddit_id;\n  }\n\n  const [subredditLoaded, setSubredditLoaded] = useState(false);\n  const [postLoaded, setPostLoaded] = useState(false);\n  const [commentsLoaded, setCommentsLoaded] = useState(false);\n\n  useEffect(() => {\n    if (isNaN(postId)) {\n      setPostLoaded(true);\n    } else {\n      dispatch(getPostRequest(postId)).then(() => {\n        setPostLoaded(true);\n        subredditId &&\n          dispatch(getSubredditRequest(subredditId)).then(() => {\n            setSubredditLoaded(true);\n          });\n        dispatch(getAllPostCommentsRequest(postId)).then(() => {\n          setCommentsLoaded(true);\n        });\n      });\n    }\n  }, [dispatch, subredditId, postId]);\n\n  const subredditPage = (subredditId) => {\n    let path = `/r/${subredditId}`;\n    history.push(path);\n  };\n\n  const createPostPage = () => {\n    if (!sessionUser) {\n      setIsLoginFormModalIsOpen(true);\n    } else {\n      let path = `/submit?subreddit_id=${subredditId}`;\n      history.push(path);\n    }\n  };\n\n  const editPost = (postId) => {\n    let path = `/posts/${postId}/edit`;\n    history.push(path);\n  };\n\n  const deletePost = (postId) => {\n    dispatch(deletePostRequest(postId));\n  };\n\n  const deleteComment = (comment) => {\n    dispatch(deleteCommentRequest(comment));\n  };\n\n  const homePage = () => {\n    let path = `/`;\n    history.push(path);\n  };\n\n  return (\n    <div className=\"pageContainer\">\n      <LoginFormModal\n        isOpen={loginFormModalIsOpen}\n        modalToggle={setIsLoginFormModalIsOpen}\n      />\n      <div className=\"homePageDiv\">\n        <div className=\"rowOne\">\n          {/* <div className=\"createPostDiv\">\n          <div className=\"createInputContainer\">\n            <input\n              type=\"text\"\n              placeholder=\"Create Post\"\n              className=\"inputBox\"\n              onClick={createPostPage}\n            />\n          </div>\n        </div> */}\n          {postLoaded ? (\n            post.length ? (\n              post.map((post) => {\n                return (\n                  <>\n                    {sessionUser && sessionUser.id === post.user_id && (\n                      <div className=\"editDeletePostButtonDiv\">\n                        <button\n                          className=\"editPostButton\"\n                          onClick={() => {\n                            editPost(post.id);\n                          }}\n                        >\n                          Edit\n                        </button>\n                        <button\n                          className=\"deletePostButton\"\n                          onClick={() => {\n                            deletePost(post.id);\n                          }}\n                        >\n                          Delete\n                        </button>\n                      </div>\n                    )}\n                    <PostCard\n                      post={post}\n                      modalToggle={setIsLoginFormModalIsOpen}\n                    />\n                    {commentsLoaded && (\n                      <>\n                        <div>{comments.length} comments</div>\n                        {sessionUser && <CreateComment post={post} />}\n                        {comments.map((comment) => {\n                          return (\n                            <>\n                              <div className=\"commentDiv\">\n                                <div className=\"commenterIconDiv\">\n                                  <div className=\"commenterIcon\">\n                                    <img src={comment.user_profile_image}></img>\n                                  </div>\n                                </div>\n                                <div className=\"commentContent\">\n                                  <div className=\"commentHeader\">\n                                    <span>{comment.username}</span>\n                                    <div className=\"commentButtons\">\n                                      {sessionUser &&\n                                        sessionUser.id === comment.user_id && (\n                                          <div>\n                                            <button\n                                              className=\"deleteCommentButton\"\n                                              onClick={() => {\n                                                deleteComment(comment);\n                                              }}\n                                            >\n                                              Delete\n                                            </button>\n                                            <button\n                                              className=\"editCommentButton\"\n                                              onClick={() => {\n                                                setOpenCommentEditFormId(\n                                                  comment.id\n                                                );\n                                              }}\n                                            >\n                                              Edit\n                                            </button>\n                                            {openCommentEditFormId ===\n                                              comment.id && (\n                                              <EditComment\n                                                comment={comment}\n                                                onSuccess={() => {\n                                                  setOpenCommentEditFormId(\n                                                    false\n                                                  );\n                                                }}\n                                              />\n                                            )}\n                                          </div>\n                                        )}\n                                    </div>\n                                  </div>\n                                  <div className=\"innerCommentDiv\">\n                                    {comment.text}\n                                  </div>\n                                  {sessionUser && (\n                                    <button\n                                      className=\"replyButton\"\n                                      onClick={() => {\n                                        setOpenCommentReplyFormId(comment.id);\n                                      }}\n                                    >\n                                      Reply\n                                    </button>\n                                  )}\n                                  {openCommentReplyFormId === comment.id && (\n                                    <CreateComment\n                                      post={post}\n                                      replyToId={comment.id}\n                                      onSuccess={() => {\n                                        setOpenCommentReplyFormId(false);\n                                      }}\n                                    />\n                                  )}\n                                </div>\n                              </div>\n                              {comment.replies.map((reply) => {\n                                return (\n                                  <>\n                                    <div className=\"replyOuterContainer\">\n                                      <div>\n                                        <AiFillCaretRight />\n                                      </div>\n                                      <div className=\"commenterIconDiv\">\n                                        <div className=\"commenterIcon\">\n                                          <img\n                                            src={reply.user_profile_image}\n                                          ></img>\n                                        </div>\n                                      </div>\n                                      <div className=\"replyContainer\">\n                                        <div className=\"commentHeader\">\n                                          <span>{reply.username}</span>\n                                          <div className=\"commentButtons\">\n                                            {sessionUser &&\n                                              sessionUser.id ===\n                                                reply.user_id && (\n                                                <>\n                                                  <button\n                                                    className=\"deleteCommentButton\"\n                                                    onClick={() => {\n                                                      deleteComment(reply);\n                                                    }}\n                                                  >\n                                                    Delete\n                                                  </button>\n                                                  <button\n                                                    className=\"editCommentButton\"\n                                                    onClick={() => {\n                                                      setOpenCommentEditFormId(\n                                                        reply.id\n                                                      );\n                                                    }}\n                                                  >\n                                                    Edit\n                                                  </button>\n                                                  {openCommentEditFormId ===\n                                                    reply.id && (\n                                                    <EditComment\n                                                      comment={reply}\n                                                      onSuccess={() => {\n                                                        setOpenCommentEditFormId(\n                                                          false\n                                                        );\n                                                      }}\n                                                    />\n                                                  )}\n                                                </>\n                                              )}\n                                          </div>\n                                        </div>\n\n                                        <div className=\"replyText\">\n                                          {\" \"}\n                                          {reply.text}\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </>\n                                );\n                              })}\n                            </>\n                          );\n                        })}\n                      </>\n                    )}\n                  </>\n                );\n              })\n            ) : (\n              <div className=\"postNotExist\">\n                <h1>Post deleted / does not exist</h1>\n                <div className=\"goBackHome\" onClick={homePage}>\n                  <span>Go back to Homepage</span>\n                </div>\n              </div>\n            )\n          ) : (\n            <div>Loading...</div>\n          )}\n        </div>\n        <div className=\"rowTwo\">\n          {subredditLoaded &&\n            subredditInfo.map((subreddit) => {\n              return (\n                <>\n                  <div className=\"subredditInformation\">\n                    <div className=\"postPageAboutSubreddit\">\n                      <img\n                        src={subreddit.banner_img}\n                        alt=\"bannerImage\"\n                        onError={(e) => {\n                          e.currentTarget.src =\n                            \"https://i.imgur.com/aQxmKOg.png\";\n                        }}\n                      ></img>\n                    </div>\n                    <div\n                      className=\"postDescriptionSubredditLogo\"\n                      onClick={(e) => subredditPage(subreddit.id)}\n                    >\n                      <img\n                        className=\"subredditLgo\"\n                        src={subreddit.icon_url}\n                        alt=\"subredditIcon\"\n                        onError={(e) => {\n                          e.currentTarget.src =\n                            \"https://i.imgur.com/hkMSod3.png\";\n                        }}\n                      ></img>\n                      <span>r/{subreddit.name}</span>\n                    </div>\n                    <div className=\"subredditDescriptionDiv\">\n                      <div className=\"subredditDescription\">\n                        {subreddit.description}\n                      </div>\n                      {/* <div className=\"subredditBornDate\">{subreddit.created_at}</div> */}\n                    </div>\n                    <div className=\"subredditCreatePostDiv\">\n                      <div\n                        className=\"createSubredditPost\"\n                        onClick={createPostPage}\n                      >\n                        {\" \"}\n                        create post\n                      </div>\n                    </div>\n                  </div>\n                  {/* <div className=\"createSubreddit\"></div> */}\n                </>\n              );\n            })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PostDetails;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams, Redirect } from \"react-router-dom\";\nimport { editPostRequest, getPostRequest } from \"../../store/posts\";\nimport imgUrlBackup from \"../PostCard/brokenImageUpload.png\";\nimport \"./EditPost.css\";\n\nconst EditPost = () => {\n  const POST_TYPE_TEXT = 1;\n  const POST_TYPE_IMAGE = 2;\n  const POST_TYPE_LINK = 3;\n\n  let { postId } = useParams();\n  postId = Number(postId);\n  const dispatch = useDispatch();\n  let post = useSelector((state) => Object.values(state.posts));\n  post = post[0] ? post[0] : post;\n\n  const sessionUser = useSelector((state) => state.session.user);\n  const [postLoaded, setPostLoaded] = useState(false);\n  const [title, setTitle] = useState(post.title);\n  const [imageUrl, setImageUrl] = useState(post.img_url);\n  const [linkUrl, setLinkUrl] = useState(post.link_url);\n  const [text, setText] = useState(post.text);\n  const [subreddit, setSubreddit] = useState(1);\n  const [postType, setPostType] = useState(1);\n  const [errors, setErrors] = useState([]);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n\n  useEffect(() => {\n    if (post.title) {\n      setTitle(post.title);\n      setImageUrl(post.img_url);\n      setLinkUrl(post.link_url);\n      setText(post.text);\n      setSubreddit(post.subreddit_id);\n      setPostType(post.post_type_id);\n    }\n  }, [post]);\n\n  useEffect(() => {\n    dispatch(getPostRequest(postId)).then(() => {\n      setPostLoaded(true);\n    });\n  }, [dispatch, postId]);\n\n  if (submitSuccess) {\n    return <Redirect to={`/user/${sessionUser.id}`} />;\n  }\n  const handleSubmit = (e) => {\n    // console.log(\"SUBMIT\");\n    e.preventDefault();\n    setErrors([]);\n    let editedPostData = {\n      id: postId,\n      title: title,\n      img_url: imageUrl,\n      link_url: linkUrl,\n      text: text,\n      subreddit_id: subreddit,\n      post_type_id: postType,\n    };\n    // console.log(\"NEW POST DATA\");\n    // console.log(editedPostData);\n    return dispatch(editPostRequest(editedPostData)).then(async (res) => {\n      if (!res.errors) {\n        // error handling\n        setSubmitSuccess(true);\n      } else {\n        setErrors(Object.values(res.errors));\n      }\n    });\n  };\n\n  if (postLoaded) {\n    return (\n      <div className=\"editPostFormPageContainer\">\n        <div className=\"innerEditPostFormPageContainer\">\n          <div className=\"editPostFormContainer\">\n            <div className=\"editPostFormTitle\">\n              <span className=\"editFormTitle\">Edit Post:</span>\n            </div>\n            <form className=\"postEditForm\" onSubmit={handleSubmit}>\n              <ul>\n                {errors.map((error, idx) => (\n                  <li className=\"errorDiv\" key={idx}>\n                    {error}\n                  </li>\n                ))}\n              </ul>\n              <div className=\"innerPostEditContainer\">\n                <label>\n                  <span className=\"editFormTitleSpan\">Title:</span>\n                  <input\n                    className=\"createTitleInputBox\"\n                    type=\"text\"\n                    placeholder=\"title\"\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                    required\n                  />\n                </label>\n                {postType === POST_TYPE_IMAGE && (\n                  // <label>\n                  //   <span className=\"editFormTitleSpan\">Image:</span>\n                  //   <input\n                  //     className=\"createTitleInputBox\"\n                  //     type=\"text\"\n                  //     placeholder=\"Image URL\"\n                  //     value={imageUrl}\n                  //     onChange={(e) => setImageUrl(e.target.value)}\n                  //   />\n                  // </label>\n                  <div>Uploaded images cannot be edited.</div>\n                )}\n\n                {postType === POST_TYPE_LINK && (\n                  <label>\n                    <span className=\"editFormTitleSpan\">Link URL:</span>\n                    <input\n                      className=\"createTitleInputBox\"\n                      type=\"text\"\n                      placeholder=\"Link URL\"\n                      value={linkUrl}\n                      onChange={(e) => setLinkUrl(e.target.value)}\n                    />\n                  </label>\n                )}\n                {postType === POST_TYPE_TEXT && (\n                  <label>\n                    <span className=\"editFormTitleSpan\">Text:</span>\n                    <textarea\n                      className=\"createTextInputBox\"\n                      type=\"text\"\n                      placeholder=\"Text\"\n                      value={text}\n                      onChange={(e) => setText(e.target.value)}\n                    />\n                  </label>\n                )}\n\n                <div className=\"editPostFormButton\">\n                  <button type=\"submit\">Edit Post</button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n        <div className=\"editPreviewContainer\">\n          <div className=\"editPreviewSpanDiv\">\n            <span>Live Edit Preview:</span>\n          </div>\n          {postType === POST_TYPE_TEXT && (\n            <div className=\"editPreviewContent\">\n              <div className=\"editPreviewTitle\">\n                <span>\"{title}\"</span>\n              </div>\n              <div className=\"editPreviewText\">\n                <span>\"{text}\"</span>\n              </div>\n            </div>\n          )}\n          {postType === POST_TYPE_IMAGE && (\n            <div className=\"editPreviewContent\">\n              <div className=\"editPreviewTitle\">\n                <span>\"{title}\"</span>\n              </div>\n              <div className=\"editPreviewImage\">\n                <img\n                  src={imageUrl}\n                  alt=\"postImage\"\n                  onError={(e) => {\n                    e.currentTarget.src = imgUrlBackup;\n                  }}\n                ></img>\n              </div>\n            </div>\n          )}\n          {postType === POST_TYPE_LINK && (\n            <div className=\"editPreviewContent\">\n              <div className=\"editPreviewTitle\">\n                <span>\"{title}\"</span>\n              </div>\n              <div className=\"editPreviewLink\">\n                <a href={linkUrl}>{linkUrl}</a>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  } else {\n    return <div>Loading...</div>;\n  }\n};\n\nexport default EditPost;\n","import React from \"react\";\nimport './ErrorPage.css'\n\n\nconst ErrorPage = () => {\n  return (\n    <div className=\"errorPage\">\n      <h1>404 Page not found</h1>\n    </div>\n  )\n}\n\nexport default ErrorPage;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport \"./ProfilePage.css\";\nimport PostCard from \"../PostCard\";\n\nimport { deletePostRequest, getUserPostsRequest } from \"../../store/posts\";\nimport { getAllUsersSubredditsRequest } from \"../../store/subreddits\";\nimport ErrorPage from \"../ErrorPage\";\n\nconst ProfilePage = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  let { userId } = useParams();\n  userId = Number(userId);\n  const sessionUser = useSelector((state) => state.session.user);\n  const posts = useSelector((state) => {\n    let posts = Object.values(state.posts);\n    posts = posts.sort((postA, postB) =>\n      new Date(postA.created_at) < new Date(postB.created_at) ? 1 : -1\n    );\n\n    return posts;\n  });\n  const subreddits = useSelector((state) => Object.values(state.subreddits));\n\n  const [postsLoaded, setPostsLoaded] = useState(false);\n  const [userOwnsProfile, setUserOwnsProfile] = useState(false);\n  const [loginFormModalIsOpen, setIsLoginFormModalIsOpen] = useState(false);\n  const [user, setUser] = useState([]);\n  const [userSubredditsLoaded, setUserSubredditsLoaded] = useState(false);\n\n  useEffect(() => {\n    dispatch(getUserPostsRequest(userId)).then(() => {\n      setPostsLoaded(true);\n    });\n    dispatch(getAllUsersSubredditsRequest()).then(() => {\n      setUserSubredditsLoaded(true);\n    });\n  }, [dispatch, userId]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const response = await fetch(`/api/users/${userId}`);\n      const responseData = await response.json();\n      // console.log(\"USER\");\n      setUser(responseData);\n    }\n    fetchData();\n  }, [userId]);\n\n  useEffect(() => {\n    setUserOwnsProfile(sessionUser.id === userId);\n  }, [sessionUser, userId]);\n\n  const formatCakeDay = (date) => {\n    if (date) {\n      return new Intl.DateTimeFormat(\"en\", {\n        dateStyle: \"medium\",\n        timeStyle: \"short\",\n      }).format(new Date(date));\n    }\n  };\n\n  const editPost = (postId) => {\n    let path = `/posts/${postId}/edit`;\n    history.push(path);\n  };\n\n  const deletePost = (postId) => {\n    dispatch(deletePostRequest(postId));\n  };\n\n  const createPostPage = () => {\n    if (!sessionUser) {\n      setIsLoginFormModalIsOpen(true);\n    } else {\n      let path = `/submit`;\n      history.push(path);\n    }\n  };\n\n  const subredditsPage = (subredditId) => {\n    let path = `/r/${subredditId}`;\n    history.push(path);\n  };\n\n  return (\n    <div className=\"pageContainer\">\n      {postsLoaded ? (\n        <>\n          {posts.length || user ? (\n            <div className=\"homePageDiv\">\n              <div className=\"rowOne\">\n                {postsLoaded ? (\n                  posts.length ? (\n                    posts.map((post) => {\n                      return (\n                        <div key={post.id}>\n                          {userOwnsProfile && (\n                            <div className=\"editDeletePostButtonDiv\">\n                              <button\n                                className=\"editPostButton\"\n                                onClick={() => {\n                                  editPost(post.id);\n                                }}\n                              >\n                                Edit\n                              </button>\n                              <button\n                                className=\"deletePostButton\"\n                                onClick={() => {\n                                  deletePost(post.id);\n                                }}\n                              >\n                                Delete\n                              </button>\n                            </div>\n                          )}\n                          <PostCard\n                            post={post}\n                            modalToggle={setIsLoginFormModalIsOpen}\n                          />\n                        </div>\n                      );\n                    })\n                  ) : (\n                    <div className=\"noPostsYetDiv\">\n                      <span>No posts yet</span>\n                    </div>\n                  )\n                ) : (\n                  <div>Loading...</div>\n                )}\n              </div>\n              <div className=\"rowTwo\">\n                {user ? (\n                  <div className=\"userProfileInfo\">\n                    <div className=\"userProfileBanner\"></div>\n                    <div className=\"innerProfileInfoDiv\">\n                      {userOwnsProfile && (\n                        <div className=\"profileCreatePostDiv\">\n                          <div\n                            className=\"createSubredditPost\"\n                            onClick={createPostPage}\n                          >\n                            {\" \"}\n                            create post\n                          </div>\n                        </div>\n                      )}\n                      <div className=\"profileInfodDiv\">\n                        {user.profile_image ? (\n                          <img\n                            src={user.profile_image}\n                            alt=\"users pic\"\n                            onError={(e) => {\n                              e.currentTarget.src =\n                                \"https://i.imgur.com/n1eSrjP.jpg\";\n                            }}\n                          ></img>\n                        ) : (\n                          <img\n                            src=\"https://i.imgur.com/n1eSrjP.jpg\"\n                            alt=\"Error Pic\"\n                          ></img>\n                        )}\n                        <span>\n                          {\" \"}\n                          {user.username ? (\n                            <span>r/{user.username}</span>\n                          ) : (\n                            <span>User not found!</span>\n                          )}{\" \"}\n                        </span>\n                      </div>\n                      <div className=\"cakeDay\">\n                        <div>\n                          {user.created_at && (\n                            <span className=\"cakeDaySpan\">Cake Day:</span>\n                          )}\n                          <div>\n                            <span className=\"cakeDayDate\">\n                              {formatCakeDay(user.created_at)}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ) : (\n                  <div>\n                    <ErrorPage />\n                    <h1>User Profile Does not exist</h1>\n                  </div>\n                )}\n                {userOwnsProfile && (\n                  <div className=\"followedSubredditInfo\">\n                    <div className=\"aboutFollowedSubreddit\">\n                      <span>Followed Subreddits</span>\n                    </div>\n                    <div className=\"followedSubredditContent\">\n                      {userSubredditsLoaded &&\n                        subreddits.map((subreddit) => {\n                          return (\n                            <div key={subreddit.id}>\n                              <div\n                                className=\"followedSubredditDescriptionDiv\"\n                                onClick={(e) => subredditsPage(subreddit.id)}\n                              >\n                                <div className=\"followedSubredditDescription\">\n                                  <div className=\"homeSubredditIcon\">\n                                    <img\n                                      src={subreddit.icon_url}\n                                      alt=\"subredditIcon\"\n                                      onError={(e) => {\n                                        e.currentTarget.src =\n                                          \"https://i.imgur.com/hkMSod3.png\";\n                                      }}\n                                    ></img>\n                                  </div>\n                                  <div className=\"followedubredditName\">\n                                    {subreddit.name}\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          );\n                        })}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          ) : (\n            <div>\n              <ErrorPage />\n              <h1>User Profile Does not exist</h1>\n            </div>\n          )}\n        </>\n      ) : (\n        <div className=\"loadingState\">\n          <div>\n            <span>Loading...</span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfilePage;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { createSubredditRequest } from \"../../store/subreddits\";\nimport \"./CreateSubreddit.css\";\n\n\nconst CreateSubreddit = () => {\n  const dispatch = useDispatch();\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [iconUrl, setIconUrl] = useState(\"\");\n  const [bannerImage, setBannerImage] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n\n  if (submitSuccess) {\n    return <Redirect to=\"/\" />;\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setErrors([]);\n    let newSubredditData = {\n      name: name,\n      description: description,\n      icon_url: iconUrl,\n      banner_img: bannerImage\n    };\n    return dispatch(createSubredditRequest(newSubredditData)).then(async (res) => {\n      if (!res.errors) {\n        setSubmitSuccess(true);\n      } else {\n        setErrors(Object.values(res.errors));\n      }\n    });\n  };\n\n  return (\n    <div className=\"subredditFormPageContainer\">\n    <div className=\"subredditFormContainer\">\n    <div className=\"createSubredditTitle\">Create a Subreddit:</div>\n      <form className=\"subredditForm\" onSubmit={handleSubmit}>\n        <ul>\n          {errors.map((error,idx) =>(\n            <li className=\"errorDiv\" key={idx}>\n              {error}\n            </li>\n          ))}\n        </ul>\n        <label>\n          <span>Subreddit Name:</span>\n          <input\n            className=\"createSubredditInput\"\n            type = \"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            required\n          />\n        </label>\n        <label>\n          <span>Description:</span>\n          <textarea\n            className=\"createSubredditDescriptionInput\"\n            type = \"text\"\n            placeholder = \"Description (Optional)\"\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n          />\n        </label>\n        <label>\n          <span>Icon URL:</span>\n          <input\n          className=\"createSubredditInput\"\n            type = \"text\"\n            placeholder = \"Icon URL (Optional)\"\n            value={iconUrl}\n            onChange={(e) => setIconUrl(e.target.value)}\n          />\n        </label>\n        <label>\n          <span>Banner Image URL:</span>\n          <input\n          className=\"createSubredditInput\"\n            type = \"text\"\n            placeholder = \"Banner Image URL (Optional)\"\n            value={bannerImage}\n            onChange={(e) => setBannerImage(e.target.value)}\n          />\n        </label>\n        <div className=\"createPostButtonDiv\">\n                  <button className=\"createPostButton\" type=\"submit\">\n                    Create\n                  </button>\n                </div>\n      </form>\n    </div>\n    </div>\n  )\n}\n\nexport default CreateSubreddit;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport {\n  editSubredditRequest,\n  getSubredditRequest,\n} from \"../../store/subreddits\";\n\nimport \"./EditSubreddit.css\";\n\nconst EditSubreddit = ({ onClose }) => {\n  let { subredditId } = useParams();\n  subredditId = Number(subredditId);\n  const dispatch = useDispatch();\n  let subreddit = useSelector((state) => Object.values(state.subreddits));\n  subreddit = subreddit[0] ? subreddit[0] : subreddit;\n  const [description, setDescription] = useState(\"\");\n  const [iconUrl, setIconUrl] = useState(\"\");\n  const [bannerImage, setBannerImage] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n  const [subredditLoaded, setSubredditLoaded] = useState(false);\n  // console.log(subreddit.name);\n\n  useEffect(() => {\n    if (subreddit.name) {\n      setDescription(subreddit.description);\n      setIconUrl(subreddit.icon_url);\n      setBannerImage(subreddit.banner_img);\n    }\n  }, [subreddit]);\n\n  useEffect(() => {\n    dispatch(getSubredditRequest(subredditId)).then(() => {\n      setSubredditLoaded(true);\n    });\n  }, [dispatch, subredditId]);\n\n  if (submitSuccess) {\n    onClose();\n    // return <Redirect to={`/r/${subreddit.id}`} />;\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setErrors([]);\n    let editedSubredditData = {\n      id: subredditId,\n      name: subreddit.name,\n      description: description,\n      icon_url: iconUrl,\n      banner_img: bannerImage,\n    };\n    return dispatch(editSubredditRequest(editedSubredditData)).then(\n      async (res) => {\n        if (!res.errors) {\n          setSubmitSuccess(true);\n        } else {\n          setErrors(Object.values(res.errors));\n        }\n      }\n    );\n  };\n\n  if (subredditLoaded) {\n    return (\n      <div className=\"editSubredditFormContainer\">\n        <div className=\"innerEditSubredditFormContainer\">\n          <form className=\"subredditEditForm\" onSubmit={handleSubmit}>\n            <div className=\"editSubredditFormTitle\">\n              <span>Edit Subreddit:</span>\n            </div>\n            <ul>\n              {errors.map((error, idx) => (\n                <li className=\"errorDiv\" key={idx}>\n                  {error}\n                </li>\n              ))}\n            </ul>\n            <div className=\"editFormInputContainer\">\n              <span>Description:</span>\n              <label>\n                <textarea\n                  type=\"text\"\n                  placeholder=\"Description\"\n                  value={description}\n                  onChange={(e) => setDescription(e.target.value)}\n                />\n              </label>\n              <span>Icon URL:</span>\n              <label>\n                <input\n                  type=\"text\"\n                  placeholder=\"(Optional)\"\n                  value={iconUrl}\n                  onChange={(e) => setIconUrl(e.target.value)}\n                />\n              </label>\n              <span>Banner Image URL:</span>\n              <label>\n                <input\n                  type=\"text\"\n                  placeholder=\"(Optional)\"\n                  value={bannerImage}\n                  onChange={(e) => setBannerImage(e.target.value)}\n                />\n              </label>\n            </div>\n            <div className=\"editSubredditButtonDiv\">\n              <button className=\"editSubredditButton\" type=\"submit\">\n                Edit Post\n              </button>\n            </div>\n          </form>\n        </div>\n        <div className=\"outerEditSubredditPreview\">\n          <div className=\"editSubredditPreviewTitle\">\n            <span>Live Edit Preview:</span>\n          </div>\n          <div className=\"editSubredditPreview\">\n            <div className=\"innerSubredditPreview\">\n              <div className=\"editBannerPreview\">\n                <img\n                  src={bannerImage}\n                  alt=\"bannerImage\"\n                  onError={(e) => {\n                    e.currentTarget.src = \"https://i.imgur.com/aQxmKOg.png\";\n                  }}\n                ></img>\n              </div>\n              <div className=\"editSubredditIconPreview\">\n                <div className=\"editIconBackground\">\n                  <img\n                    src={iconUrl}\n                    alt=\"iconImage\"\n                    onError={(e) => {\n                      e.currentTarget.src = \"https://i.imgur.com/hkMSod3.png\";\n                    }}\n                  ></img>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"editSubredditPreviewNote\">\n            <span>\n              *Empty / Broken images will recieve a default icon and banner\n            </span>\n          </div>\n        </div>\n      </div>\n    );\n  } else {\n    return <div>Loading...</div>;\n  }\n};\n\nexport default EditSubreddit;\n","import React from \"react\";\nimport { Modal } from \"../../context/Modal\";\nimport EditSubreddit from \"./index\";\n\nfunction EditSubredditModal({ isOpen, modalToggle }) {\n  return (\n    <>\n      {isOpen && (\n        <Modal onClose={() => modalToggle(false)}>\n          <EditSubreddit onClose={() => modalToggle(false)} />\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport default EditSubredditModal;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport {\n  getSubredditRequest,\n  subscribeToSubredditRequest,\n  deleteSubredditRequest,\n} from \"../../store/subreddits\";\nimport { getAllSubredditsPostsRequest } from \"../../store/posts\";\nimport createIcon from \"../Homepage/createIcon.png\";\nimport PostCard from \"../PostCard\";\nimport LoginFormModal from \"../LoginFormModal\";\nimport EditSubredditModal from \"../EditSubreddit/EditSubredditModal\";\n\nimport \"./Subreddit.css\";\nimport ErrorPage from \"../ErrorPage\";\n\nconst SubredditPage = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  let { subredditId } = useParams();\n  subredditId = Number(subredditId);\n  const subredditInfo = useSelector((state) => Object.values(state.subreddits));\n  const posts = useSelector((state) => {\n    let posts = Object.values(state.posts);\n    posts = posts.sort((postA, postB) =>\n      new Date(postA.created_at) < new Date(postB.created_at) ? 1 : -1\n    );\n\n    return posts;\n  });\n  const sessionUser = useSelector((state) => state.session.user);\n\n  const [loginFormModalIsOpen, setIsLoginFormModalIsOpen] = useState(false);\n  const [editSubredditFormModalIsOpen, setIsEditSubredditFormModalIsOpen] =\n    useState(false);\n  const [subredditLoaded, setSubredditLoaded] = useState(false);\n  const [postsLoaded, setPostsLoaded] = useState(false);\n  const [userOwnsSubreddit, setUserOwnsSubreddit] = useState(false);\n  const [userJoinedSubreddit, setUserJoinedSubreddit] = useState(false);\n  // console.log(\"SUBREDDITINFO\");\n  // console.log(subredditInfo);\n\n  useEffect(() => {\n    if (isNaN(subredditId)) {\n      setSubredditLoaded(true);\n      setPostsLoaded(true);\n    } else {\n      dispatch(getSubredditRequest(subredditId)).then(() => {\n        setSubredditLoaded(true);\n      });\n      dispatch(getAllSubredditsPostsRequest(subredditId)).then(() => {\n        setPostsLoaded(true);\n      });\n    }\n  }, [dispatch, subredditId]);\n\n  useEffect(() => {\n    // console.log(\"---\");\n    if (sessionUser && subredditLoaded && subredditInfo[0]) {\n      subredditInfo[0].subscriptions.forEach((subscription) => {\n        if (subscription.user_id === sessionUser.id) {\n          setUserJoinedSubreddit(true);\n          // console.log(\"HERE\");\n        }\n      });\n      setUserOwnsSubreddit(sessionUser.id === subredditInfo[0].owner_id);\n    }\n  }, [subredditLoaded, sessionUser]);\n\n  const createPostPage = () => {\n    if (!sessionUser) {\n      setIsLoginFormModalIsOpen(true);\n    } else {\n      let path = `/submit?subreddit_id=${subredditId}`;\n      history.push(path);\n    }\n  };\n\n  // const editSubredditPage = (subredditId) => {\n  //   let path = `/r/${subredditId}/edit`;\n  //   history.push(path);\n  // };\n\n  const deleteSubreddit = async (subredditId) => {\n    await dispatch(deleteSubredditRequest(subredditId)).then(() => {\n      history.push(`/`);\n    });\n  };\n\n  const joinSubreddit = () => {\n    if (!sessionUser) {\n      setIsLoginFormModalIsOpen(true);\n    } else {\n      dispatch(subscribeToSubredditRequest(subredditId));\n      setUserJoinedSubreddit((userJoinedSubreddit) => !userJoinedSubreddit);\n    }\n  };\n\n  return (\n    <div className=\"pageContainer\">\n      <LoginFormModal\n        isOpen={loginFormModalIsOpen}\n        modalToggle={setIsLoginFormModalIsOpen}\n      />\n      {subredditLoaded ? (\n        <>\n          {subredditInfo[0] ? (\n            <>\n              {subredditInfo.map((subreddit) => {\n                return (\n                  <div className=\"subredditBanner\">\n                    <img\n                      src={subreddit?.banner_img}\n                      alt=\"bannerimage\"\n                      onError={(e) => {\n                        e.currentTarget.src = \"https://i.imgur.com/aQxmKOg.png\";\n                      }}\n                    ></img>\n                    <div className=\"subredditTitle\">\n                      <div className=\"innerSubredditTitleDiv\">\n                        <div className=\"titleDivContent\">\n                          <div className=\"iconBackground\"></div>\n                          <img\n                            className=\"subredditIcon\"\n                            src={subreddit?.icon_url}\n                            alt=\"iconImage\"\n                            onError={(e) => {\n                              e.currentTarget.src =\n                                \"https://i.imgur.com/hkMSod3.png\";\n                            }}\n                          ></img>\n                          <div className=\"subredditNameDiv\">\n                            <div className=\"bigSubredditName\">\n                              <span> {subreddit.name} </span>\n                              {/* <div className=\"joinToggleSubreddit\"> */}\n                              {userOwnsSubreddit ? (\n                                <div className=\"subredditButtonDiv\">\n                                  <button\n                                    className=\"editSubredditButton\"\n                                    onClick={() =>\n                                      setIsEditSubredditFormModalIsOpen(true)\n                                    }\n                                  >\n                                    Edit\n                                  </button>\n                                  <EditSubredditModal\n                                    isOpen={editSubredditFormModalIsOpen}\n                                    modalToggle={\n                                      setIsEditSubredditFormModalIsOpen\n                                    }\n                                  />\n                                  <button\n                                    className=\"deleteSubredditButton\"\n                                    onClick={() =>\n                                      deleteSubreddit(subreddit.id)\n                                    }\n                                  >\n                                    Delete\n                                  </button>\n                                </div>\n                              ) : userJoinedSubreddit ? (\n                                <button\n                                  className=\"joinToggleSubredditButton\"\n                                  onClick={() => joinSubreddit()}\n                                >\n                                  Joined\n                                </button>\n                              ) : (\n                                <button\n                                  className=\"joinToggleSubredditButton\"\n                                  onClick={() => joinSubreddit()}\n                                >\n                                  Join\n                                </button>\n                              )}\n\n                              {/* </div> */}\n                            </div>\n                            <div className=\"littleSubredditName\">\n                              <span>r/{subreddit.name}</span>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n              <div className=\"homePageDiv\">\n                <div className=\"rowOneSubreddit\">\n                  <div className=\"createPostDiv\">\n                    <div className=\"createIcon\">\n                      <img src={createIcon} alt=\"createIcon\"></img>\n                    </div>\n                    <div className=\"createInputContainer\">\n                      <input\n                        type=\"text\"\n                        placeholder=\"Create Post\"\n                        className=\"inputBox\"\n                        onClick={createPostPage}\n                      />\n                    </div>\n                  </div>\n                  {postsLoaded &&\n                    (posts.length ? (\n                      posts.map((post) => {\n                        return (\n                          <PostCard\n                            post={post}\n                            modalToggle={setIsLoginFormModalIsOpen}\n                          />\n                        );\n                      })\n                    ) : (\n                      <div>No posts yet</div>\n                    ))}\n                </div>\n                <div className=\"rowTwoSubreddit\">\n                  {subredditInfo.map((subreddit) => {\n                    return (\n                      <>\n                        <div className=\"subredditInformation\">\n                          <div className=\"aboutSubreddit\">\n                            <span>About Community</span>\n                          </div>\n                          <div className=\"subredditDescriptionDiv\">\n                            <div className=\"subredditDescription\">\n                              {subreddit.description}\n                            </div>\n                            {/* <div className=\"subredditBornDate\">{subreddit.created_at}</div> */}\n                          </div>\n                          <div className=\"subredditCreatePostDiv\">\n                            <div\n                              className=\"createSubredditPost\"\n                              onClick={createPostPage}\n                            >\n                              {\" \"}\n                              create post\n                            </div>\n                          </div>\n                        </div>\n                        {/* <div className=\"createSubreddit\"></div> */}\n                      </>\n                    );\n                  })}\n                </div>\n              </div>\n            </>\n          ) : (\n            <div>\n              <ErrorPage />\n              <h1>Subreddit does not exist</h1>\n            </div>\n          )}\n        </>\n      ) : (\n        <div className=\"loadingState\">\n          <div>\n            <span>Loading...</span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SubredditPage;\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\n// import LoginForm from \"./components/auth/LoginForm\";\nimport SignUpForm from \"./components/auth/SignUpForm\";\nimport NavBar from \"./components/Navigation/NavBar\";\nimport ProtectedRoute from \"./components/auth/ProtectedRoute\";\nimport UsersList from \"./components/UsersList\";\n// import User from \"./components/User\";\nimport { authenticate } from \"./store/session\";\nimport Homepage from \"./components/Homepage\";\nimport CreatePost from \"./components/CreatePost\";\nimport PostDetails from \"./components/PostDetails\";\nimport EditPost from \"./components/EditPost\";\nimport ProfilePage from \"./components/ProfilePage\";\nimport CreateSubreddit from \"./components/CreateSubreddit\";\nimport SubredditPage from \"./components/SubredditPage\";\nimport LoginFormModal from \"./components/LoginFormModal\";\nimport EditSubreddit from \"./components/EditSubreddit\";\nimport ErrorPage from \"./components/ErrorPage\";\n// import SignUpFormModal from \"./components/SignUpFormModal (unused)\";\n\nfunction App() {\n  const [loaded, setLoaded] = useState(false);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    (async () => {\n      await dispatch(authenticate());\n      setLoaded(true);\n    })();\n  }, [dispatch]);\n\n  if (!loaded) {\n    return null;\n  }\n\n  return (\n    <BrowserRouter>\n      <NavBar isLoaded={loaded} />\n      <Switch>\n        <Route path=\"/login\" exact={true}>\n          <LoginFormModal isOpen={true} modalToggle={() => {}} />\n\n          {/* <LoginForm /> */}\n        </Route>\n        <Route path=\"/sign-up\" exact={true}>\n          <SignUpForm />\n        </Route>\n        <Route path=\"/\" exact={true}>\n          <Homepage />\n        </Route>\n        <Route path=\"/posts/:postId\" exact={true}>\n          <PostDetails />\n        </Route>\n        <Route path=\"/r/:subredditId\" exact={true}>\n          <SubredditPage />\n        </Route>\n        <ProtectedRoute path=\"/users\" exact={true}>\n          <UsersList />\n        </ProtectedRoute>\n        <ProtectedRoute path=\"/user/:userId\" exact={true}>\n          <ProfilePage />\n        </ProtectedRoute>\n        <ProtectedRoute path=\"/submit\" exact={true}>\n          <CreatePost />\n        </ProtectedRoute>\n        <ProtectedRoute path=\"/posts/:postId/edit\" exact={true}>\n          <EditPost />\n        </ProtectedRoute>\n        <ProtectedRoute path=\"/create-subreddit\" exact={true}>\n          <CreateSubreddit />\n        </ProtectedRoute>\n        <ProtectedRoute path=\"/r/:subredditId/edit\" exact={true}>\n          <EditSubreddit />\n        </ProtectedRoute>\n        <Route>\n          <ErrorPage />\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport postsReducer from './posts';\nimport session from './session'\nimport subredditReducer from './subreddits';\nimport commentsReducer from './comments';\n\nconst rootReducer = combineReducers({\n  session,\n  posts: postsReducer,\n  subreddits: subredditReducer,\n  comments: commentsReducer\n});\n\n\nlet enhancer;\n\nif (process.env.NODE_ENV === 'production') {\n  enhancer = applyMiddleware(thunk);\n} else {\n  const logger = require('redux-logger').default;\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  enhancer = composeEnhancers(applyMiddleware(thunk, logger));\n}\n\nconst configureStore = (preloadedState) => {\n  return createStore(rootReducer, preloadedState, enhancer);\n};\n\nexport default configureStore;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport configureStore from \"./store\";\nimport { ModalProvider } from \"./context/Modal\";\n\nconst store = configureStore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ModalProvider>\n        <App />\n      </ModalProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}