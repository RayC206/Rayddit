(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],Array(26).concat([function(e,t,n){},,,,,,,,,,function(e,t,n){},,function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),s=n(15),a=n.n(s),i=n(5),o=(n(36),n(4)),u=n.n(o),d=n(6),l=n(3),j=n(8),b=n(9),O="session/SET_USER",p="session/REMOVE_USER",m=function(e){return{type:O,payload:e}},h={user:null},x=function(e,t){return function(){var n=Object(d.a)(u.a.mark((function n(r){var c,s,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});case 2:if(!(c=n.sent).ok){n.next=11;break}return n.next=6,c.json();case 6:return s=n.sent,r(m(s)),n.abrupt("return",null);case 11:if(!(c.status<500)){n.next=19;break}return n.next=14,c.json();case 14:if(!(a=n.sent).errors){n.next=17;break}return n.abrupt("return",a.errors);case 17:n.next=20;break;case 19:return n.abrupt("return",["An error occurred. Please try again."]);case 20:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},f=function(e,t,n){return function(){var r=Object(d.a)(u.a.mark((function r(c){var s,a,i;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:n})});case 2:if(!(s=r.sent).ok){r.next=11;break}return r.next=6,s.json();case 6:return a=r.sent,c(m(a)),r.abrupt("return",null);case 11:if(!(s.status<500)){r.next=19;break}return r.next=14,s.json();case 14:if(!(i=r.sent).errors){r.next=17;break}return r.abrupt("return",i.errors);case 17:r.next=20;break;case 19:return r.abrupt("return",["An error occurred. Please try again."]);case 20:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};n(38);var v=n.p+"static/media/signUpLogo.0440b175.png",g=n(1),A=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(""),a=Object(l.a)(s,2),o=a[0],j=a[1],O=Object(r.useState)(""),p=Object(l.a)(O,2),m=p[0],h=p[1],x=Object(r.useState)(""),A=Object(l.a)(x,2),w=A[0],N=A[1],C=Object(r.useState)(""),k=Object(l.a)(C,2),B=k[0],E=k[1],I=Object(i.c)((function(e){return e.session.user})),D=Object(i.b)(),S=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),w!==B){e.next=8;break}return e.next=4,D(f(o,m,w));case 4:(n=e.sent)&&c(n),e.next=9;break;case 8:c(["Passwords do not match"]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return I?Object(g.jsx)(b.a,{to:"/"}):Object(g.jsxs)("div",{className:"signUpFormPageContainer",children:[Object(g.jsxs)("div",{className:"signUpFormContainer",children:[Object(g.jsxs)("div",{className:"signUpLogoDiv",children:[Object(g.jsx)("img",{src:v,alt:"signuplogo"}),Object(g.jsx)("span",{className:"registerSpan",children:"Create your Account"})]}),Object(g.jsx)("div",{className:"innerSignUpFormContainer",children:Object(g.jsxs)("form",{onSubmit:S,className:"signUpForm",children:[Object(g.jsx)("div",{className:"errorDiv",children:n.map((function(e,t){return Object(g.jsxs)("div",{className:"errorDiv",children:[" ","- ",e]},t)}))}),Object(g.jsxs)("div",{className:"signUpUsernameDiv",children:[Object(g.jsx)("label",{children:"Username"}),Object(g.jsx)("input",{className:"signUpFormInput",type:"text",name:"username",onChange:function(e){j(e.target.value)},value:o})]}),Object(g.jsxs)("div",{className:"signUpEmailDiv",children:[Object(g.jsx)("label",{children:"Email"}),Object(g.jsx)("input",{className:"signUpFormInput",type:"text",name:"email",onChange:function(e){h(e.target.value)},value:m})]}),Object(g.jsxs)("div",{className:"signUpPasswordDiv",children:[Object(g.jsx)("label",{children:"Password"}),Object(g.jsx)("input",{className:"signUpFormInput",type:"password",name:"password",onChange:function(e){N(e.target.value)},value:w})]}),Object(g.jsxs)("div",{className:"signUpPasswordRepeat",children:[Object(g.jsx)("label",{children:"Repeat Password"}),Object(g.jsx)("input",{className:"signUpFormInput",type:"password",name:"repeat_password",onChange:function(e){E(e.target.value)},value:B,required:!0})]}),Object(g.jsx)("div",{className:"createAccountDiv",children:Object(g.jsx)("button",{className:"signUpButton",type:"submit",children:"Create Account"})})]})})]}),Object(g.jsxs)("div",{className:"sideCreateContainer signUpFormRules",children:[Object(g.jsxs)("div",{className:"postingRules",children:[Object(g.jsx)("img",{src:"data:image/png;base64,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",alt:"rulesIcon"}),Object(g.jsx)("span",{children:"Welcome to Rayddit"})]}),Object(g.jsxs)("ol",{children:[Object(g.jsx)("li",{className:"ruleList",children:"Remember the human"}),Object(g.jsx)("li",{className:"ruleList",children:"Behave like you would in real life"}),Object(g.jsx)("li",{className:"ruleList",children:"Look for the original source of content"}),Object(g.jsx)("li",{className:"ruleList",children:"Search for duplicates before posting"}),Object(g.jsx)("li",{className:"ruleList",children:"Report any bugs to the developer"})]})]})]})};n(26);var w=function(e){var t=e.user,n=Object(i.b)(),c=Object(r.useState)(!1),s=Object(l.a)(c,2),a=s[0],o=s[1],O=Object(b.g)();return Object(r.useEffect)((function(){if(a){var e=function(){o(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[a]),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("nav",{className:"profileDropdownDiv",onClick:function(){a||o(!0)},children:[Object(g.jsx)("div",{className:"profileDropdown",children:Object(g.jsxs)("div",{className:"menu_drop",children:[Object(g.jsx)("div",{className:"user_icon",children:Object(g.jsx)("img",{src:t.profile_image,alt:"userProfileImage"})}),Object(g.jsx)("span",{children:t.username})]})}),a&&Object(g.jsxs)("div",{id:"menu",children:[Object(g.jsxs)("div",{className:"loggedInUser",children:[" ","Greetings, ".concat(t.username)]}),Object(g.jsx)(j.b,{className:"profilePageDropdown",to:"/user/".concat(t.id),id:"dropDown1",children:"Profile"}),Object(g.jsx)("div",{onClick:function(e){e.preventDefault(),n(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auth/logout",{headers:{"Content-Type":"application/json"}});case 2:e.sent.ok&&t({type:p});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O.push("/")},id:"dropDown2",children:"Log out"})]})]})})},N=(n(42),c.a.createContext());function C(e){var t=e.children,n=Object(r.useRef)(),c=Object(r.useState)(),s=Object(l.a)(c,2),a=s[0],i=s[1];return Object(r.useEffect)((function(){i(n.current)}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(N.Provider,{value:a,children:t}),Object(g.jsx)("div",{ref:n})]})}function k(e){var t=e.onClose,n=e.children,c=Object(r.useContext)(N);return c?a.a.createPortal(Object(g.jsxs)("div",{id:"modal",children:[Object(g.jsx)("div",{id:"modal-background",onClick:function(){t()}}),Object(g.jsx)("div",{id:"modal-content",children:n})]}),c):null}n(43);var B=n.p+"static/media/logo.f7282980.png",E=function(e){var t=e.onClose,n=Object(b.g)(),c=Object(r.useState)([]),s=Object(l.a)(c,2),a=s[0],o=s[1],j=Object(r.useState)(""),O=Object(l.a)(j,2),p=O[0],m=O[1],h=Object(r.useState)(""),f=Object(l.a)(h,2),v=f[0],A=f[1],w=Object(i.c)((function(e){return e.session.user})),N=Object(i.b)(),C=function(){var e=Object(d.a)(u.a.mark((function e(n){var r,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]&&c[1],n.preventDefault(),e.next=4,N(x(p,v));case 4:(r=e.sent)?o(r):t();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(w)return Object(g.jsx)(b.a,{to:"/"});return Object(g.jsxs)("div",{className:"loginFormContainer",children:[Object(g.jsx)("div",{className:"loginLogoDiv",children:Object(g.jsx)("img",{src:B,alt:"logo"})}),Object(g.jsx)("div",{className:"loginWelcome",children:Object(g.jsx)("span",{children:"Welcome to Rayddit"})}),Object(g.jsxs)("div",{className:"innerLoginFormContainer",children:[Object(g.jsxs)("form",{onSubmit:C,className:"loginForm",children:[Object(g.jsx)("div",{children:a.map((function(e,t){return Object(g.jsxs)("div",{className:"errorDiv",children:[" ","- ",e]},t)}))}),Object(g.jsx)("div",{className:"loginEmailDiv field",children:Object(g.jsx)("input",{className:"loginEmailInput",name:"email",type:"text",placeholder:"Email",value:p,onChange:function(e){m(e.target.value)}})}),Object(g.jsx)("div",{className:"loginPasswordDiv field",children:Object(g.jsx)("input",{className:"loginPasswordInput",name:"password",type:"password",placeholder:"Password",value:v,onChange:function(e){A(e.target.value)}})}),Object(g.jsx)("div",{className:"loginButtonsDiv",children:Object(g.jsxs)("div",{className:"loginDemoButtons",children:[Object(g.jsx)("button",{className:"modalLoginButton",type:"submit",children:"Login"}),Object(g.jsxs)("button",{className:"demoButton",type:"submit",onClick:function(){m("demo@aa.io"),A("password")},children:[" ","Demo User"," "]})]})})]}),Object(g.jsxs)("div",{className:"loginSignUpDiv",children:[Object(g.jsx)("div",{children:Object(g.jsx)("span",{children:"Need an Account?"})}),Object(g.jsx)("button",{className:"loginSignUpButton",onClick:function(e){t();n.push("/sign-up")},children:"Sign Up"})]})]})]})};var I=function(e){var t=e.isOpen,n=e.modalToggle;return Object(g.jsx)(g.Fragment,{children:t&&Object(g.jsx)(k,{onClose:function(){return n(!1)},children:Object(g.jsx)(E,{onClose:function(){return n(!1)}})})})},D=(n(44),n.p+"static/media/signUpLogo.0440b175.png"),S=function(e){var t=e.onClose,n=Object(r.useState)([]),c=Object(l.a)(n,2),s=c[0],a=c[1],o=Object(r.useState)(""),j=Object(l.a)(o,2),O=j[0],p=j[1],m=Object(r.useState)(""),h=Object(l.a)(m,2),x=h[0],v=h[1],A=Object(r.useState)(""),w=Object(l.a)(A,2),N=w[0],C=w[1],k=Object(r.useState)(""),B=Object(l.a)(k,2),E=B[0],I=B[1],S=Object(i.c)((function(e){return e.session.user})),Q=Object(i.b)(),T=function(){var e=Object(d.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),N!==E){e.next=8;break}return e.next=4,Q(f(O,x,N));case 4:(r=e.sent)?a(r):t(),e.next=9;break;case 8:a(["Passwords do not match"]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return S?Object(g.jsx)(b.a,{to:"/"}):Object(g.jsxs)("div",{className:"signUpFormContainer",children:[Object(g.jsxs)("div",{className:"signUpLogoDiv",children:[Object(g.jsx)("img",{src:D,alt:"signuplogo"}),Object(g.jsx)("span",{className:"registerSpan",children:"Create your Account"})]}),Object(g.jsx)("div",{className:"innerSignUpFormContainer",children:Object(g.jsxs)("form",{onSubmit:T,className:"signUpForm",children:[Object(g.jsx)("div",{className:"errorDiv",children:s.map((function(e,t){return Object(g.jsxs)("div",{className:"errorDiv",children:[" ","- ",e]},t)}))}),Object(g.jsxs)("div",{className:"signUpUsernameDiv",children:[Object(g.jsx)("label",{children:"Username"}),Object(g.jsx)("input",{className:"signUpFormInput",type:"text",name:"username",onChange:function(e){p(e.target.value)},value:O})]}),Object(g.jsxs)("div",{className:"signUpEmailDiv",children:[Object(g.jsx)("label",{children:"Email"}),Object(g.jsx)("input",{className:"signUpFormInput",type:"text",name:"email",onChange:function(e){v(e.target.value)},value:x})]}),Object(g.jsxs)("div",{className:"signUpPasswordDiv",children:[Object(g.jsx)("label",{children:"Password"}),Object(g.jsx)("input",{className:"signUpFormInput",type:"password",name:"password",onChange:function(e){C(e.target.value)},value:N})]}),Object(g.jsxs)("div",{className:"signUpPasswordRepeat",children:[Object(g.jsx)("label",{children:"Repeat Password"}),Object(g.jsx)("input",{className:"signUpFormInput",type:"password",name:"repeat_password",onChange:function(e){I(e.target.value)},value:E,required:!0})]}),Object(g.jsx)("div",{className:"createAccountDiv",children:Object(g.jsx)("button",{className:"signUpButton",type:"submit",children:"Create Account"})})]})})]})};var Q=function(e){var t=e.isOpen,n=e.modalToggle;return Object(g.jsx)(g.Fragment,{children:t&&Object(g.jsx)(k,{onClose:function(){return n(!1)},children:Object(g.jsx)(S,{onClose:function(){return n(!1)}})})})},T=n.p+"static/media/raydditlogo.1009fb5b.png",y=n.p+"static/media/darkModeLogo.5b5324de.png",P=n(25),F=(n(45),function(e){var t=e.darkMode,n=e.setDarkMode;return Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{onClick:function(){n(!t)},className:"darkmodeToggle",children:t?Object(g.jsx)(P.b,{}):Object(g.jsx)(P.a,{})}),Object(g.jsx)("style",{jsx:!0,children:"\n        body,\n        html {\n          background-color: ".concat(t?"rgb(68,70,84)":"rgb(218,224,230)",";\n          transition: background-color 0.5s ease;\n        }\n        #navBar {\n          border-bottom: ").concat(t?"1px solid rgb(38 35 35)":"1px solid rgb(216, 203, 203)",";\n        }\n        #navBarContainer {\n          background-color: ").concat(t?"rgb(52,53,65)":"white",";\n          transition: background-color 0.5s ease;\n        }\n        .profileDropdownDiv {\n          background-color: ").concat(t?"rgb(98 122 146)":"white",";\n        }\n        .menu_drop > span {\n          color: ").concat(t?"white":"black",";\n        }\n\n        .postContainer {\n          background-color: ").concat(t?"rgb(62, 60, 60)":"white",";\n        }\n\n        .postContainer > div {\n          color: ").concat(t?"white":"black",";\n        }\n        .outerPostContainer {\n          background-color: ").concat(t?"rgb(94, 94, 118)":"rgb(247, 247, 252)",";\n          border: ").concat(t?"1px solid rgb(38 35 35)":"1px solid rgb(206, 195, 195)",";\n        }\n        .homepageSubredditContent,\n        .subredditCreateDiv,\n        .iconContainer,\n        .subredditTitle {\n          background-color: ").concat(t?"rgb(62, 60, 60)":"white",";\n          color: ").concat(t?"white":"black",";\n        }\n        .subredditTitle {\n          background-color: ").concat(t?"rgb(52,53,65)":"white",";\n          color: ").concat(t?"white":"black",";\n        }\n\n        .homePageSubredditInfo,\n        .developerInfoDiv {\n          border: ").concat(t?"1px solid rgb(38 35 35)":"1px solid rgb(206, 195, 195)",";\n        }\n        .aboutSubreddit,\n        .developerInfoContent,\n        .createSubredditButton,\n        .createSubredditPost,\n        .userProfileBanner,\n        .aboutFollowedSubreddit {\n          background-color: ").concat(t?"rgb(98 122 146)":"rgb(0,121,211)",";\n        }\n\n        .createPostDiv {\n          background-color: ").concat(t?"rgb(52,53,65)":"white",";\n          border: ").concat(t?"1px solid rgb(38 35 35)":"1px solid rgb(206, 195, 195)",";\n        }\n      ")})]})}),U=function(e){var t,n=e.isLoaded,c=Object(b.g)(),s=Object(i.c)((function(e){return e.session.user})),a=Object(r.useState)(!1),o=Object(l.a)(a,2),u=o[0],d=o[1],O=Object(r.useState)(!1),p=Object(l.a)(O,2),m=p[0],h=p[1],x=Object(r.useState)(!1),f=Object(l.a)(x,2),v=f[0],A=f[1];return t=s?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{id:"rightNav",children:[Object(g.jsx)(w,{user:s}),Object(g.jsx)(F,{darkMode:v,setDarkMode:A})]})}):Object(g.jsxs)("div",{id:"rightNav",children:[Object(g.jsxs)("button",{className:"signUpButton",onClick:function(e){c.push("/sign-up")},children:[" ","Sign up"]}),Object(g.jsx)(Q,{isOpen:m,modalToggle:h}),Object(g.jsx)("button",{className:"signInButton",onClick:function(){return d(!0)},children:"Log In"}),Object(g.jsx)(I,{isOpen:u,modalToggle:d})]}),Object(g.jsx)("nav",{children:Object(g.jsx)("div",{id:"navBarContainer",children:Object(g.jsxs)("div",{id:"navBar",children:[Object(g.jsx)("div",{id:"logo_div",children:Object(g.jsx)(j.c,{exact:!0,to:"/",children:Object(g.jsx)("img",{className:"raydditLogo",src:v?y:T,alt:"raydditlogo"})})}),n&&t]})})})},J=n(7),L=function(e){var t=Object(i.c)((function(e){return e.session.user}));return Object(g.jsx)(b.b,Object(J.a)(Object(J.a)({},e),{},{children:t?e.children:Object(g.jsx)(b.a,{to:"/login"})}))};var R=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n.users);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=n.map((function(e){return Object(g.jsx)("li",{children:Object(g.jsx)(j.c,{to:"/users/".concat(e.id),children:e.username})},e.id)}));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"User List: "}),Object(g.jsx)("ul",{children:s})]})},G="subreddit/create",H="subreddit/getsubreddit",M="subreddit/getAll",K="subreddit/getallUsersSubreddits",Y="subreddit/edit",W="subreddit/delete",z="subreddit/subscribe",X=function(e){return{type:G,subreddit:e}},q=function(e){return{type:M,subreddits:e}},Z=function(e){return{type:H,subreddit:e}},V=function(e){return{type:K,subreddits:e}},_=function(e){return{type:z,subredditId:e}},$=function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/subreddits/all",{});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return r=e.sent,t(q(r)),e.abrupt("return",r);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ee=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/subreddits/".concat(e),{});case 2:if(!(r=t.sent).ok){t.next=9;break}return t.next=6,r.json();case 6:return c=t.sent,n(Z(c)),t.abrupt("return",c);case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},te=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/subreddits/".concat(e),{method:"DELETE"});case 2:if(!(r=t.sent).ok){t.next=6;break}return n({type:W,deletedSubredditId:e}),t.abrupt("return",e);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ne={},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,n={};switch(t.type){case G:return(n=Object(J.a)({},e))[t.subreddit.id]=t.subreddit,n;case M:return t.subreddits.forEach((function(e){n[e.id]=e})),Object(J.a)({},n);case H:return(n={})[t.subreddit.id]=t.subreddit,n;case K:return t.subreddits.forEach((function(e){n[e.id]=e})),Object(J.a)({},n);case Y:return(n=Object(J.a)({},e))[t.subreddit.id]=t.subreddit,n;case W:return delete(n=Object(J.a)({},e))[t.deletedSubredditId],n;case z:n=Object(J.a)({},e);default:return e}},ce="data:image/png;base64,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",se=(n(46),n(47),n.p+"static/media/brokenImageUpload.15e63250.png"),ae="posts/create",ie="posts/getpost",oe="posts/getall",ue="subreddit/get_all_subreddits_post",de="posts/getuserposts",le="posts/edit",je="posts/delete",be="posts/upvote",Oe="posts/downvote",pe=function(e){return{type:ae,post:e}},me=function(e){return{type:ie,post:e}},he=function(e){return{type:oe,posts:e}},xe=function(e){return{type:ue,posts:e}},fe=function(e){return{type:de,posts:e}},ve=function(e){return{type:be,post:e}},ge=function(e){return{type:Oe,post:e}},Ae=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/posts/".concat(e));case 2:if(!(r=t.sent).ok){t.next=9;break}return t.next=6,r.json();case 6:return c=t.sent,n(me(c)),t.abrupt("return",c);case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},we=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/posts/".concat(e),{method:"DELETE"});case 2:if(!(r=t.sent).ok){t.next=6;break}return n({type:je,deletedPostId:e}),t.abrupt("return",e);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ne={},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0,n={};switch(t.type){case ae:return(n=Object(J.a)({},e))[t.post.id]=t.post,n;case ie:return(n={})[t.post.id]=t.post,n;case oe:case ue:case de:return t.posts.forEach((function(e){n[e.id]=e})),Object(J.a)({},n);case le:return(n=Object(J.a)({},e))[t.post.id]=t.post,n;case je:return delete(n=Object(J.a)({},e))[t.deletedPostId],n;case be:case Oe:return(n=Object(J.a)({},e))[t.post.id]=t.post,n;default:return e}},ke=n(18),Be=function(e){var t=e.post,n=e.modalToggle,c=Object(i.b)(),s=Object(b.g)(),a=Object(i.c)((function(e){return e.session.user})),o=Object(r.useState)(!1),j=Object(l.a)(o,2),O=j[0],p=j[1],m=Object(r.useState)(!1),h=Object(l.a)(m,2),x=h[0],f=h[1];Object(r.useEffect)((function(){p(!1),t.votes.forEach((function(e){a&&a.id===e.user_id&&(1===e.value?p(!0):-1===e.value&&f(!0))}))}),[t,a]);var v=function(e){a?(c(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/posts/".concat(e,"/upvote"),{method:"POST"});case 2:if(!(r=t.sent).ok){t.next=9;break}return t.next=6,r.json();case 6:return c=t.sent,n(ve(c)),t.abrupt("return",c);case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),p(!O),f(!1)):n(!0)},A=function(e){a?(c(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/posts/".concat(e,"/downvote"),{method:"POST"});case 2:if(!(r=t.sent).ok){t.next=9;break}return t.next=6,r.json();case 6:return c=t.sent,n(ge(c)),t.abrupt("return",c);case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),f(!x),p(!1)):n(!0)},w=function(e){var t="/posts/".concat(e);s.push(t)};return Object(g.jsxs)("div",{className:"outerPostContainer",children:[Object(g.jsxs)("div",{className:"voteDiv",children:[O?Object(g.jsx)(ke.b,{className:"thickUpvote",onClick:function(){return v(t.id)}}):Object(g.jsx)(ke.b,{className:"thickUpvoteNormal",onClick:function(){return v(t.id)}}),O?Object(g.jsx)("span",{className:"upvotedTotalCount",children:t.total_votes}):x?Object(g.jsx)("span",{className:"downvotedTotalCount",children:t.total_votes}):Object(g.jsx)("span",{className:"unvotedTotalCount",children:t.total_votes}),x?Object(g.jsx)(ke.a,{className:"thickDownvote",onClick:function(){return A(t.id)}}):Object(g.jsx)(ke.a,{className:"thickDownvoteNormal",onClick:function(){return A(t.id)}})]}),Object(g.jsxs)("div",{className:"postContainer",children:[Object(g.jsxs)("div",{className:"postTopDescription",children:[Object(g.jsxs)("div",{className:"postSubredditName",onClick:function(e){return function(e){var t="/r/".concat(e);s.push(t)}(t.subreddit_id)},children:["r/",t.subreddit_name]}),Object(g.jsxs)("div",{className:"postUsername",onClick:function(e){return function(e){var t="/user/".concat(e);s.push(t)}(t.user_id)},children:["u/",t.username]}),Object(g.jsx)("div",{className:"postTimeago",children:function(e){if(e)return new Intl.DateTimeFormat("en",{dateStyle:"medium",timeStyle:"short"}).format(new Date(e))}(t.created_at)})]}),Object(g.jsx)("div",{className:"postTitle",onClick:function(e){return w(t.id)},children:Object(g.jsx)("span",{className:"postTitleSpan",onClick:function(e){return w(t.id)},children:t.title})}),Object(g.jsx)("div",{className:"postContent",onClick:function(e){return w(t.id)},children:1===t.post_type_id?Object(g.jsx)("div",{className:"postText",children:t.text}):2===t.post_type_id?Object(g.jsx)("img",{className:"postImage",src:t.img_url,alt:"postImage",onError:function(e){e.currentTarget.src=se}}):3===t.post_type_id?Object(g.jsx)("a",{className:"postLinkurl",href:t.link_url,children:t.link_url}):void 0})]})]},t.id)},Ee=function(){var e=Object(i.b)(),t=Object(b.g)(),n=(Object(b.h)(),Object(i.c)((function(e){return e.session.user}))),c=Object(i.c)((function(e){return Object.values(e.subreddits)})),s=Object(i.c)((function(e){var t=Object.values(e.posts);return t=t.sort((function(e,t){return new Date(e.created_at)<new Date(t.created_at)?1:-1}))})),a=Object(r.useState)(!1),o=Object(l.a)(a,2),j=o[0],O=o[1],p=Object(r.useState)(!1),m=Object(l.a)(p,2),h=m[0],x=m[1],f=Object(r.useState)(!1),v=Object(l.a)(f,2),A=v[0],w=v[1],N=Object(r.useState)(1),C=Object(l.a)(N,2),k=C[0],B=C[1],E=Object(r.useState)(5),D=Object(l.a)(E,1)[0];Object(r.useEffect)((function(){e($()).then((function(){w(!0)})),e(function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/posts/all",{});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return r=e.sent,t(he(r)),e.abrupt("return",r);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){x(!0)}))}),[e]),Object(r.useEffect)((function(){return window.addEventListener("scroll",S),function(){window.removeEventListener("scroll",S)}}),[]);var S=function(){window.innerHeight+window.scrollY<document.body.offsetHeight-100||setTimeout((function(){B((function(e){return e+1}))}),500)};return Object(g.jsxs)("div",{className:"pageContainer",children:[Object(g.jsx)("createPostPage",{}),Object(g.jsx)(I,{isOpen:j,modalToggle:O}),Object(g.jsxs)("div",{className:"homePageDiv",children:[Object(g.jsxs)("div",{className:"rowOne",children:[Object(g.jsxs)("div",{className:"createPostDiv",children:[Object(g.jsx)("div",{className:"createIcon",children:Object(g.jsx)("img",{src:ce,alt:"createIcon"})}),Object(g.jsx)("div",{className:"createInputContainer",children:Object(g.jsx)("input",{type:"text",placeholder:"Create Post",className:"inputBox",onClick:function(){if(n){t.push("/submit")}else O(!0)}})})]}),h?s.length?Object(g.jsxs)(g.Fragment,{children:[s.slice(0,k*D).map((function(e){return Object(g.jsx)(Be,{post:e,modalToggle:O},e.id)})),s.length>k*D&&Object(g.jsx)("div",{children:"Loading..."})]}):Object(g.jsx)("div",{children:"No posts yet"}):Object(g.jsx)("div",{children:"Loading..."})]}),Object(g.jsxs)("div",{className:"rowTwo",children:[Object(g.jsxs)("div",{className:"homePageSubredditInfo",children:[Object(g.jsx)("div",{className:"aboutSubreddit",children:Object(g.jsx)("span",{children:"Recommended Communities"})}),Object(g.jsx)("div",{className:"homepageSubredditContent",children:A&&c.map((function(e){return Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"homepageSubredditDescriptionDiv",onClick:function(n){return function(e){var n="/r/".concat(e);t.push(n)}(e.id)},children:Object(g.jsxs)("div",{className:"homepageSubredditDescription",children:[Object(g.jsx)("div",{className:"homeSubredditIcon",children:Object(g.jsx)("img",{src:e.icon_url,alt:"subredditIcon",onError:function(e){e.currentTarget.src="https://i.imgur.com/hkMSod3.png"}})}),Object(g.jsx)("div",{className:"homeSubredditName",children:e.name})]})})},e.id)}))}),Object(g.jsx)("div",{className:"subredditCreateDiv",children:Object(g.jsxs)("div",{className:"createSubredditButton",onClick:function(){if(n){t.push("/create-subreddit")}else O(!0)},children:[" ","Create a Subreddit"]})})]}),Object(g.jsxs)("div",{className:"developerInfoDiv",children:[Object(g.jsx)("div",{className:"developerInfoContent",children:Object(g.jsx)("span",{children:"Developer's Links:"})}),Object(g.jsxs)("div",{className:"devLinkIcons",children:[Object(g.jsx)("a",{className:"iconContainer",href:"https://github.com/RayC206/Rayddit",children:Object(g.jsxs)("div",{className:"githubIcon",children:[Object(g.jsx)("img",{src:"data:image/png;base64,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",alt:"gitHubLogo"}),Object(g.jsx)("span",{children:"Github"})]})}),Object(g.jsx)("a",{className:"iconContainer",href:"https://www.linkedin.com/in/ray-charles-henry/",children:Object(g.jsxs)("div",{className:"linkedInIcon",children:[Object(g.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJUlEQVR42u1bTWsTQRiedZGIeolni8d69eTB0P/gwZw0/QG5StpCvGY9CGlA0LMXPW0ubhsvoi2SgyV6KKihFkQtKgSLTaRQ4vhOnC2b7SYmuzM782Z34KFkM9mZ5+l8vh+ESC7GkjMHuAGoAGxAC7AH6AH6HD3+rMXrWIA8+y3BVoySY0DHc4AqoA2gEcHesfrvnU8NfYkvOVlACbAjgPQofORtZHUifoEP2V8SifvB2rrL2lZJ3AQUAZ0YifvR4X0w4yY/D2gqJO4H68t8XOQLgK5G5F2wPi3KHvI1DYn7URM+JeCFZ/j+TJGgzvoskvw6IvIuGpFFMJYHw76OkLx3JJhR/vs1xOSP14Sw5BdngLyLQph9vjtDAnQnPifw7a45Q+S9hyVzEgGKM0jeRXGSi81UZ/vrj7bo94NDGndhbbK2Q9wdsuMEsKZVVQV5rwghRoE17j4/9ZVWdQl5lc4GCVAKM68QCsBQ8pM3wlpygsrGbodeqW3S0ytrg78v4bNmAjCuhleAXNiV1V8+/fxNz99pDNVhn9lzjQRgyHkFWBUlQHVzN7Aee66ZAFWvAO0ECtD22u1pAqcAHfgduANCmABBi+CGfougizzhHhuhAiDYBl1USFRTF3IBbML9cUIFGFdv1HevP+/Tm4/f0EvW88HUOVtu0IWHTWpvf5MpQItwp6RSAepAkpEe1cZt550sAfYI98wqFeDyvRf/bWfUSIgoQI9w97RSAU4tO/Tq/Ve0/OwDvfXkLT1Xbpyow6aDBAH6Wgiw8KBJj/p/jutsfdk/UYetCbIEUD4F1t//mOodoqeA8kXw4PBIlQBftdkGFQnQknIQQiSALeUojEiAipTLECIB8sKvw8gEmBNuEEEkQFuKSQyRAFUpRlFEAuS8gRBCzeII7AHDZvHEO0ZS11jqHE3d42mARBoikwZJBQZFJzNMLg2UHF4PbMTk7ciR4/CCDNJgadbnjKiI8QzCcPmM6JwBM8q1GXXCBKKUmQKJoyQ6aSpNmwu+RqtInLSUJk4qSp3d0S51NkAIZl67Jid5ek3f5OkxglwMkT5fiSt9/i9Wci4m0iAULQAAAABJRU5ErkJggg==",alt:"linkedInLogo"}),Object(g.jsx)("span",{children:"LinkedIn"})]})})]})]})]})]})]})},Ie=(n(48),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return Object.values(e.subreddits)})),n=new URLSearchParams(window.location.search),c=Number(n.get("subreddit_id"));c=c>0?c:1;var s=Object(r.useState)(null),a=Object(l.a)(s,2),o=a[0],j=a[1],O=Object(r.useState)(""),p=Object(l.a)(O,2),m=p[0],h=p[1],x=Object(r.useState)(null),f=Object(l.a)(x,2),v=f[0],A=f[1],w=Object(r.useState)(""),N=Object(l.a)(w,2),C=N[0],k=N[1],B=Object(r.useState)(""),E=Object(l.a)(B,2),I=E[0],D=E[1],S=Object(r.useState)(c),Q=Object(l.a)(S,2),T=Q[0],y=Q[1],P=Object(r.useState)(1),F=Object(l.a)(P,2),U=F[0],J=F[1],L=Object(r.useState)([]),R=Object(l.a)(L,2),G=R[0],H=R[1],M=Object(r.useState)(!1),K=Object(l.a)(M,2),Y=K[0],W=K[1],z=Object(r.useState)(!1),X=Object(l.a)(z,2),q=X[0],Z=X[1];if(Object(r.useEffect)((function(){e($()).then((function(){Z(!0)}))}),[e]),Y)return Object(g.jsx)(b.a,{to:"/"});var V=function(e){J(e)},_=function(t){t.preventDefault(),H([]);var n,r=new FormData;return r.append("title",o),r.append("post_type_id",U),r.append("subreddit_id",T),r.append("text",I),r.append("image",v),r.append("img_url",m),r.append("link_url",C),e((n=r,function(){var e=Object(d.a)(u.a.mark((function e(t){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/posts/",{method:"POST",body:n});case 2:if(!(r=e.sent).ok){e.next=11;break}return e.next=6,r.json();case 6:return c=e.sent,t(pe(c)),e.abrupt("return",c);case 11:if(!(r.status<500)){e.next=17;break}return e.next=14,r.json();case 14:return e.abrupt("return",e.sent);case 17:return e.abrupt("return",["An error occurred. Please try again."]);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.errors?H(Object.values(t.errors)):W(!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(g.jsxs)("div",{className:"formPageContainer",children:[Object(g.jsxs)("div",{className:"formContainer",children:[Object(g.jsx)("div",{className:"createPostTitle",children:"Create a Post"}),Object(g.jsx)("ul",{children:G.map((function(e,t){return Object(g.jsx)("li",{className:"errorDiv",children:e},t)}))}),Object(g.jsx)("div",{className:"subredditDropdownDiv",children:Object(g.jsx)("select",{className:"subredditDropdownSelect",onChange:function(e){y(e.target.value)},children:q&&t.map((function(e){return Object(g.jsxs)("option",{value:e.id,selected:e.id===c,children:["r/",e.name]},e.id)}))})}),Object(g.jsxs)("div",{className:"mainFormContainer",children:[Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"createPostType",children:[Object(g.jsx)("button",{className:"createButtonText",onClick:function(){V(1)},children:"Text"}),Object(g.jsx)("button",{className:"createButtonImage",onClick:function(){V(2)},children:"Image"}),Object(g.jsx)("button",{className:"createButtonLink",onClick:function(){V(3)},children:"Link"})]})}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{className:"createInputBoxes",children:[1===U&&Object(g.jsxs)("form",{className:"postsCreate",onSubmit:_,children:[Object(g.jsx)("div",{children:Object(g.jsx)("label",{className:"createTitle",children:Object(g.jsx)("input",{className:"createTitleInputBox",type:"text",placeholder:"Title",value:o,onChange:function(e){return j(e.target.value)},required:!0})})}),Object(g.jsx)("div",{children:Object(g.jsx)("label",{className:"createTitle",children:Object(g.jsx)("textarea",{className:"createTextInputBox",type:"text",placeholder:"Text (optional)",value:I,onChange:function(e){return D(e.target.value)}})})}),Object(g.jsx)("div",{className:"createPostButtonDiv",children:Object(g.jsx)("button",{className:"createPostButton",type:"submit",children:"Create new post"})})]}),2===U&&Object(g.jsxs)("form",{className:"postsCreate",onSubmit:_,children:[Object(g.jsx)("label",{className:"createTitle",children:Object(g.jsx)("input",{className:"createTitleInputBox",type:"textarea",placeholder:"Title",value:o,onChange:function(e){return j(e.target.value)},required:!0})}),Object(g.jsx)("label",{className:"createTitle",children:Object(g.jsx)("input",{type:"file",accept:"image/*",name:"image",onChange:function(e){A(e.target.files[0]),h(e.target.value)}})}),Object(g.jsx)("div",{className:"createPostButtonDiv",children:Object(g.jsx)("button",{className:"createPostButton",type:"submit",children:"Create new post"})})]}),3===U&&Object(g.jsxs)("form",{className:"postsCreate",onSubmit:_,children:[Object(g.jsx)("label",{className:"createTitle",children:Object(g.jsx)("input",{className:"createTitleInputBox",type:"text",placeholder:"Title",value:o,onChange:function(e){return j(e.target.value)},required:!0})}),Object(g.jsx)("label",{className:"createTitle",children:Object(g.jsx)("input",{className:"createTitleInputBox",type:"text",placeholder:"Link URL",value:C,onChange:function(e){return k(e.target.value)}})}),Object(g.jsx)("div",{className:"createPostButtonDiv",children:Object(g.jsx)("button",{className:"createPostButton",type:"submit",children:"Create new post"})})]})]})]})]}),Object(g.jsxs)("div",{className:"sideCreateContainer",children:[Object(g.jsxs)("div",{className:"postingRules",children:[Object(g.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAArCAYAAADsQwGHAAAAAXNSR0IArs4c6QAACVRJREFUWEe9mQ10k9UZx/83gUJpUinjY+74UUTYSgkUWj7GCm1KU1BxQ0TdQGCIcAQrHTsolCJJAAEFViwoDialQ3oOjOHZYEA/oLQIRUrsR4KeUacFVKp0EJvy0a/cnedN3vTNmzdJI3X3nJ4m7/363ef+n+c+9w3D/7cku6c7dS/Tsnvp7KcvgcmhTACM8fHx9sbGRjv1q62tnafQrlM4XQ1d4p5VbtHkkpISJCe7HpvNZmzfvr2qoaFhZKcoZY1+DGizxILJffv2zU5PT48zGo1eUyckJNgtFstTP8TaXQ3NAUjHTB48eHDupUuXouUWJWubTCZaIEknpNI10BcudFc/O31y+1f1KyMqC6bfitXXSyg457QW73Lq1Cno9XrSvj4kYplVQuqrtRX+inOWzIBxAGJaduwdRAOELZrNwVAPJ69iKlwIe2L+zPR58wfJ5TFkyJC6H+qMIVs6wlpgUDH1THA+kxjFlbbs2Ct8DFs022vx7RXV7T99J7/5IW1kL9ERTSYT4uPj91gsFoogIZdOQ2uqC/qrVKrFHFgEoL98Jn/QYrv28srGlg+P1TirbBbntesU9kLWsjhWp6A1F4uHMqczE2DP+zPL7ReWocei2VCPHhHQcs2mrTbtucpurLnlbkNDwz/c0SOkwyYodETlv+JU6u5bwFiKEk17RTXaL9SgraIaD3XviS/PfuzTbOD4sWh0tiGCqTFJr8ccwxShDUUQckj6GIrl/UJrrEUxjGEOOBYC6KMkh+Z3/woCmpv2mFCdlJTkOUCk7d1gKC0thdwhqZ07Zr/dWXBFaI2t+GXGOcEO9wc7aVkGijdtDdmJ/HVgTEAJuvO+jUpKekb2a8viHFnyAUgGpNuuhhUXkZGRUZeTk5PXGWt7rUxjPZHF4FwnD2P0naRAoUppe4OZ25i+QNQuzNt3KUqI9L3m/Z3vOK9+kx5sPA+0tqboN2DYTfql8CVC0gB1dXWIjo4OGdh96iFT1weJ/cMFlg22G0iZMUuAp2K329G7d286HfHxs5Nq1Ym/3Nw0PHVnIHABuk/tucjWuw7ammkkgyG5H6Ky7CNPv6qqKsTFxQUzgE89gazU6zD238e86u7L/xzSoz0vL0/Yxav97gPN/5OBj1y3PzjgD+1l5flKkwrQWtuJJ8Gd/6TPYQtW4OCGzYpbKIYp5/WvUHL0MJJGj8LE2EdhWJ2juCByrltrZ6HtM+8wKIcmaewvKsBnZ8rBsw7CfPoAcr623Gw7vGNs49C0WvngLmhr0VsAXqXPgxabvKwsD12tZYe8LLfRegNr9x+FOmasD7gS9Eff3sGb9eEotXmzuKMHSp6nkA3MsP4dzR9s2afuHvb6979I+lI6uAh9Usy2AkGTRVYMi0LzoW1egG9d64V1J6t9oKl9a+khvHb/baGOgEnT5je3IGUuZQMdhaB1w+NgrakSHvbavdl9uvItDl3aMiXoz8nIVOHQGbz0Jm1MEK+qa322u7xnNCa/X6QoEdK1eLhQg9Uvv+hxQjm09LvWKo7HHIzzlxqHGzz6dlu6+AbAo6jTmLwjmKCJUowUStAkD/2MWX51TWMStJjhKa2M6l8z/hpPpDhgMkGwMFlaLBy8MMLJp387YvIteuaGLrwKsAfogRjupHc6sTNBT4juj4TCPwmPCJi0TJoOVIJB6/UjYTRWwWymBUql0TEqB/ttky51vwdaYy06zoDJYhMR3N+N48QO8lvAZDIqOqBcUhTO/B1MYiynPiMnxKLy9EX0WDzHJy9nwHuNOoPgCO6QV7wRnC+XThZIJv62WJQAgVByRIfSnj17hOZKOydKh3Qv1ouL6NC0Z7YKh84wRgLdEael1k7sFdWppEhqLepPJxz9ETQVOk1zc3N9dO2+3AoW/qTM5qF7IWsF8u3X5NZ2dmtGn5sJhu9dx/iBA2rt0Kj94HhaakWKJIEsRJYVIwOdaqJV5TtB7WgcJdnQs9ETR+N86XlPNY05I3MZWnZt9Oqj7tY20B7zWF1H7mEtmArOdoOxfsG0LVqI2omSoP+kW2khC5PFs7Ozvazs3d/lfHL/obgtl4i6VRVtHzXpsleWF2ktyuHAK9KJySljrP9B9pp1wsSkPxHQ42CrMuG868DKV+Yi/OHRnjxl2rRpXqFThBUX5+pPDk1/3hmkAvQNh+pn9yM2tsULOrz66APdVGHlABfCn1goiRnwl7/h4bBwjxyMElBpW4KWW00OS+ktScBsphdMdsHSVMR+VEe6bvizJ0umkHHcMcwgXJF8bgoaW9EqxrFWrku6AAxWd8O25RlIHBUjr/Z8n/zcS0iZ8qTwnSanP7Ki/Crm2rE6mEwuZ5X6jpKmuYoZm2JT1yhCa6tP/hyqtiMAe1QuE8qxJ46LR9bSBcJ/pfJG9k6s27pLEVTaXkyQXH4xDiUl5Z5qquvIPci0rB6MP+OINQj5suKdTGsrzAVnv5dDZ/Z/BBPHj0FK2uO4c7nCL7Ra0xemtev97oYwsetOCHqRajS63qi6JGOGOmEEzs+d2tGfIdsxzPBH8YEidOTF4lncyT+QzipNpGhg591GZC76nQ9Y2TkL3nh7N0rP+L5KEBvL47rUMQdnLET9i89Ixy11gi25pUutCQgdYTs+QsXVrhwREG4T5IhfnDnn0SqBH8vbpGhNJWeUNpRCz1u5HFda7uJK6x05LDhwBcDSJp3hkJe0FGc1mVSRTyfmc/DnxHqppQXnMq7G8b2uxIkKaZkK6fn1ZelYs8k755bOQwsmx1y6ehUuzXvK31upTxn4xkZdmusloaT4fc+grSmYBqjywSDcSClek6ZpMvL84iMH0X6rAafLLQIoaT1p/BiY1q2HqodW0RbyhwS/4bsvfJIjgJVB5dziiE0TroCdhqaGWmvheoBlip3o/vjfcxbhK0GWnT0vWHXt5u1+Lw6B6Al6381vpLL4DkAeb23d0zTq8U/99Q34RkfzydF+6B62ioEvkQ5AVo8P64mpmcuRGBGFiZo+9wr9NQcOQa062DR0UlmwbQr+Gurs2fBI7e2FTmAOAx+lNGCgK1ogAOEQWTD/asvhnamOmNRLwWDF+uDQ7pYR1uIBKoYpnPN4BjwIMPpZ4rJKjYrGWMM+pQtDZyCWLFmydNu2bSG9FOw0dDAAzjn93ib9CUv8WU6pK2UbpVTBGAv55XqXQQdbVFfW/w9hpjloYCM4UgAAAABJRU5ErkJggg==",alt:"ruleIcon"}),Object(g.jsx)("span",{children:"Posting to Rayddit"})]}),Object(g.jsxs)("ol",{children:[Object(g.jsx)("li",{className:"ruleList",children:"Remember the human"}),Object(g.jsx)("li",{className:"ruleList",children:"Behave like you would in real life"}),Object(g.jsx)("li",{className:"ruleList",children:"Look for the original source of content"}),Object(g.jsx)("li",{className:"ruleList",children:"Search for duplicates before posting"}),Object(g.jsx)("li",{className:"ruleList",children:"Report any bugs to the developer"})]})]})]})}),De=(n(49),n(50),"comment/createComment"),Se="comment/getComments",Qe="comment/updateComment",Te="comment/deleteComment",ye=function(e){return{type:De,comment:e}},Pe=function(e){return{type:Se,comments:e}},Fe=function(e){return{type:Te,comment:e}},Ue={},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0,n={};switch(t.type){case De:return n=Object(J.a)({},e),t.comment.parent_id?(n[t.comment.parent_id].replies.push(t.comment),console.log(n[t.comment.parent_id].replies)):n[t.comment.id]=t.comment,n;case Se:return t.comments.forEach((function(e){n[e.id]=e})),Object(J.a)({},n);case Qe:return n=Object(J.a)({},e),console.log("EDIT COMMENT"),console.log(t.comment),t.comment.parent_id?n[t.comment.parent_id].replies.forEach((function(e,r){e.id===t.comment.id&&(n[t.comment.parent_id].replies[r]=t.comment)})):n[t.comment.id]=t.comment,n;case Te:return n=Object(J.a)({},e),t.comment.parent_id&&(n[t.comment.parent_id].replies=n[t.comment.parent_id].replies.filter((function(e){return e.id!==t.comment.id}))),delete n[t.comment.id],n;default:return e}},Le=function(e){var t=e.comment,n=e.onSuccess,c=Object(b.i)().commentId;c=Number(c);var s=Object(i.b)(),a=Object(r.useState)(t.text),o=Object(l.a)(a,2),j=o[0],O=o[1],p=Object(r.useState)([]),m=Object(l.a)(p,2),h=m[0],x=m[1],f=Object(r.useState)(!1),v=Object(l.a)(f,2),A=(v[0],v[1]);return Object(g.jsx)("div",{className:"editCommentFormContainer",children:Object(g.jsx)("div",{className:"innerEditCommentFormContainer",children:Object(g.jsxs)("form",{className:"commentEditForm",onSubmit:function(e){e.preventDefault(),x([]);var r,c={id:t.id,text:j};return s((r=c,function(){var e=Object(d.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/comments/".concat(r.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 2:if(!(n=e.sent).ok){e.next=11;break}return e.next=6,n.json();case 6:return c=e.sent,t({type:Qe,comment:c}),e.abrupt("return",c);case 11:if(!(n.status<500)){e.next=17;break}return e.next=14,n.json();case 14:return e.abrupt("return",e.sent);case 17:return e.abrupt("return",["An error occured. Please try again"]);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.errors?x(Object.values(t.errors)):(A(!0),n());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:[Object(g.jsx)("div",{children:Object(g.jsx)("span",{children:"Edit Comment:"})}),Object(g.jsx)("ul",{children:h.map((function(e,t){return Object(g.jsx)("li",{className:"errorDiv",children:e},t)}))}),Object(g.jsx)("div",{className:"editCommentFormInputs",children:Object(g.jsx)("textarea",{type:"text",value:j,onChange:function(e){return O(e.target.value)}})}),Object(g.jsxs)("div",{className:"editCommentButtonDiv",children:[Object(g.jsx)("button",{className:"cancelEditCommentButton",onClick:function(){n()},children:"Cancel"}),Object(g.jsx)("button",{className:"editCommentFormButton",type:"submit",children:"Edit Comment"})]})]})})})},Re=n(27),Ge=(n(51),function(e){var t=e.post,n=e.replyToId,c=void 0===n?null:n,s=e.onSuccess,a=void 0===s?null:s,o=Object(i.b)(),j=Object(r.useState)(""),b=Object(l.a)(j,2),O=b[0],p=b[1],m=Object(r.useState)([]),h=Object(l.a)(m,2),x=h[0],f=h[1],v=Object(r.useState)(!1),A=Object(l.a)(v,2),w=(A[0],A[1]),N=Object(i.c)((function(e){return e.session.user}));return Object(g.jsx)("div",{className:"commentFormContainer",children:Object(g.jsxs)("form",{className:"innerCommentFormContainer",onSubmit:function(e){e.preventDefault(),f([]);var n={text:O,post_id:t.id};return c&&(n.parent_id=c),o(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/posts/".concat(e.post_id,"/comments/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(!(r=t.sent).ok){t.next=11;break}return t.next=6,r.json();case 6:return c=t.sent,n(ye(c)),t.abrupt("return",c);case 11:if(!(r.status<500)){t.next=17;break}return t.next=14,r.json();case 14:return t.abrupt("return",t.sent);case 17:return t.abrupt("return",["An error occurred. Please try again"]);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n)).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.errors?f(Object.values(t.errors)):(w(!0),p(""),a&&a());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:[Object(g.jsxs)("div",{className:"commentForm",children:[Object(g.jsx)("ul",{children:x.map((function(e,t){return Object(g.jsx)("li",{className:"errorDiv",children:e},t)}))}),Object(g.jsxs)("span",{className:"commentAsSpan",children:[" ","Comment as"," ",Object(g.jsx)("a",{href:"/user/".concat(N.id),children:N.username})]}),Object(g.jsx)("label",{children:Object(g.jsx)("textarea",{className:"commentTextBox",type:"text",placeholder:"What are your thoughts?",value:O,onChange:function(e){return p(e.target.value)}})})]}),Object(g.jsxs)("div",{className:"createCommentButtonDiv",children:[c&&Object(g.jsx)("button",{className:"",onClick:function(){a&&a()},children:"Cancel"}),Object(g.jsx)("button",{className:"createCommentButton",type:"submit",children:"Create Comment"})]})]})})}),He=function(){var e,t=Object(b.i)().postId;t=Number(t);var n=Object(i.b)(),c=Object(b.g)(),s=Object(i.c)((function(e){return Object.values(e.subreddits)})),a=Object(i.c)((function(e){return Object.values(e.posts)})),o=Object(i.c)((function(e){return e.session.user})),j=Object(i.c)((function(e){return Object.values(e.comments)})),O=Object(r.useState)(!1),p=Object(l.a)(O,2),m=p[0],h=p[1],x=Object(r.useState)(!1),f=Object(l.a)(x,2),v=f[0],A=f[1],w=Object(r.useState)(!1),N=Object(l.a)(w,2),C=N[0],k=N[1];a&&a.length&&(e=a[0].subreddit_id);var B=Object(r.useState)(!1),E=Object(l.a)(B,2),D=E[0],S=E[1],Q=Object(r.useState)(!1),T=Object(l.a)(Q,2),y=T[0],P=T[1],F=Object(r.useState)(!1),U=Object(l.a)(F,2),J=U[0],L=U[1];Object(r.useEffect)((function(){isNaN(t)?P(!0):n(Ae(t)).then((function(){P(!0),e&&n(ee(e)).then((function(){S(!0)})),n(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/posts/".concat(e,"/comments"),{});case 2:if(!(r=t.sent).ok){t.next=9;break}return t.next=6,r.json();case 6:return c=t.sent,n(Pe(c)),t.abrupt("return",c);case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)).then((function(){L(!0)}))}))}),[n,e,t]);var R=function(){if(o){var t="/submit?subreddit_id=".concat(e);c.push(t)}else h(!0)},G=function(e){n(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/comments/".concat(e.id),{method:"DELETE"});case 2:if(!(r=t.sent).ok){t.next=6;break}return n(Fe(e)),t.abrupt("return",e);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(g.jsxs)("div",{className:"pageContainer",children:[Object(g.jsx)(I,{isOpen:m,modalToggle:h}),Object(g.jsxs)("div",{className:"homePageDiv",children:[Object(g.jsx)("div",{className:"rowOne",children:y?a.length?a.map((function(e){return Object(g.jsxs)(g.Fragment,{children:[o&&o.id===e.user_id&&Object(g.jsxs)("div",{className:"editDeletePostButtonDiv",children:[Object(g.jsx)("button",{className:"editPostButton",onClick:function(){!function(e){var t="/posts/".concat(e,"/edit");c.push(t)}(e.id)},children:"Edit"}),Object(g.jsx)("button",{className:"deletePostButton",onClick:function(){!function(e){n(we(e))}(e.id)},children:"Delete"})]}),Object(g.jsx)(Be,{post:e,modalToggle:h}),J&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{children:[j.length," comments"]}),o&&Object(g.jsx)(Ge,{post:e}),j.map((function(t){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"commentDiv",children:[Object(g.jsx)("div",{className:"commenterIconDiv",children:Object(g.jsx)("div",{className:"commenterIcon",children:Object(g.jsx)("img",{src:t.user_profile_image})})}),Object(g.jsxs)("div",{className:"commentContent",children:[Object(g.jsxs)("div",{className:"commentHeader",children:[Object(g.jsx)("span",{children:t.username}),Object(g.jsx)("div",{className:"commentButtons",children:o&&o.id===t.user_id&&Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{className:"deleteCommentButton",onClick:function(){G(t)},children:"Delete"}),Object(g.jsx)("button",{className:"editCommentButton",onClick:function(){A(t.id)},children:"Edit"}),v===t.id&&Object(g.jsx)(Le,{comment:t,onSuccess:function(){A(!1)}})]})})]}),Object(g.jsx)("div",{className:"innerCommentDiv",children:t.text}),o&&Object(g.jsx)("button",{className:"replyButton",onClick:function(){k(t.id)},children:"Reply"}),C===t.id&&Object(g.jsx)(Ge,{post:e,replyToId:t.id,onSuccess:function(){k(!1)}})]})]}),t.replies.map((function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"replyOuterContainer",children:[Object(g.jsx)("div",{children:Object(g.jsx)(Re.a,{})}),Object(g.jsx)("div",{className:"commenterIconDiv",children:Object(g.jsx)("div",{className:"commenterIcon",children:Object(g.jsx)("img",{src:e.user_profile_image})})}),Object(g.jsxs)("div",{className:"replyContainer",children:[Object(g.jsxs)("div",{className:"commentHeader",children:[Object(g.jsx)("span",{children:e.username}),Object(g.jsx)("div",{className:"commentButtons",children:o&&o.id===e.user_id&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("button",{className:"deleteCommentButton",onClick:function(){G(e)},children:"Delete"}),Object(g.jsx)("button",{className:"editCommentButton",onClick:function(){A(e.id)},children:"Edit"}),v===e.id&&Object(g.jsx)(Le,{comment:e,onSuccess:function(){A(!1)}})]})})]}),Object(g.jsxs)("div",{className:"replyText",children:[" ",e.text]})]})]})})}))]})}))]})]})})):Object(g.jsxs)("div",{className:"postNotExist",children:[Object(g.jsx)("h1",{children:"Post deleted / does not exist"}),Object(g.jsx)("div",{className:"goBackHome",onClick:function(){c.push("/")},children:Object(g.jsx)("span",{children:"Go back to Homepage"})})]}):Object(g.jsx)("div",{children:"Loading..."})}),Object(g.jsx)("div",{className:"rowTwo",children:D&&s.map((function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"subredditInformation",children:[Object(g.jsx)("div",{className:"postPageAboutSubreddit",children:Object(g.jsx)("img",{src:e.banner_img,alt:"bannerImage",onError:function(e){e.currentTarget.src="https://i.imgur.com/aQxmKOg.png"}})}),Object(g.jsxs)("div",{className:"postDescriptionSubredditLogo",onClick:function(t){return function(e){var t="/r/".concat(e);c.push(t)}(e.id)},children:[Object(g.jsx)("img",{className:"subredditLgo",src:e.icon_url,alt:"subredditIcon",onError:function(e){e.currentTarget.src="https://i.imgur.com/hkMSod3.png"}}),Object(g.jsxs)("span",{children:["r/",e.name]})]}),Object(g.jsx)("div",{className:"subredditDescriptionDiv",children:Object(g.jsx)("div",{className:"subredditDescription",children:e.description})}),Object(g.jsx)("div",{className:"subredditCreatePostDiv",children:Object(g.jsxs)("div",{className:"createSubredditPost",onClick:R,children:[" ","create post"]})})]})})}))})]})]})},Me=(n(52),function(){var e=Object(b.i)().postId;e=Number(e);var t=Object(i.b)(),n=Object(i.c)((function(e){return Object.values(e.posts)}));n=n[0]?n[0]:n;var c=Object(i.c)((function(e){return e.session.user})),s=Object(r.useState)(!1),a=Object(l.a)(s,2),o=a[0],j=a[1],O=Object(r.useState)(n.title),p=Object(l.a)(O,2),m=p[0],h=p[1],x=Object(r.useState)(n.img_url),f=Object(l.a)(x,2),v=f[0],A=f[1],w=Object(r.useState)(n.link_url),N=Object(l.a)(w,2),C=N[0],k=N[1],B=Object(r.useState)(n.text),E=Object(l.a)(B,2),I=E[0],D=E[1],S=Object(r.useState)(1),Q=Object(l.a)(S,2),T=Q[0],y=Q[1],P=Object(r.useState)(1),F=Object(l.a)(P,2),U=F[0],J=F[1],L=Object(r.useState)([]),R=Object(l.a)(L,2),G=R[0],H=R[1],M=Object(r.useState)(!1),K=Object(l.a)(M,2),Y=K[0],W=K[1];if(Object(r.useEffect)((function(){n.title&&(h(n.title),A(n.img_url),k(n.link_url),D(n.text),y(n.subreddit_id),J(n.post_type_id))}),[n]),Object(r.useEffect)((function(){t(Ae(e)).then((function(){j(!0)}))}),[t,e]),Y)return Object(g.jsx)(b.a,{to:"/user/".concat(c.id)});return o?Object(g.jsxs)("div",{className:"editPostFormPageContainer",children:[Object(g.jsx)("div",{className:"innerEditPostFormPageContainer",children:Object(g.jsxs)("div",{className:"editPostFormContainer",children:[Object(g.jsx)("div",{className:"editPostFormTitle",children:Object(g.jsx)("span",{className:"editFormTitle",children:"Edit Post:"})}),Object(g.jsxs)("form",{className:"postEditForm",onSubmit:function(n){var r;return n.preventDefault(),H([]),t((r={id:e,title:m,img_url:v,link_url:C,text:I,subreddit_id:T,post_type_id:U},function(){var e=Object(d.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/posts/".concat(r.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 2:if(!(n=e.sent).ok){e.next=11;break}return e.next=6,n.json();case 6:return c=e.sent,t({type:le,post:c}),e.abrupt("return",c);case 11:if(!(n.status<500)){e.next=17;break}return e.next=14,n.json();case 14:return e.abrupt("return",e.sent);case 17:return e.abrupt("return",["An error occurred. Please try again."]);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.errors?H(Object.values(t.errors)):W(!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:[Object(g.jsx)("ul",{children:G.map((function(e,t){return Object(g.jsx)("li",{className:"errorDiv",children:e},t)}))}),Object(g.jsxs)("div",{className:"innerPostEditContainer",children:[Object(g.jsxs)("label",{children:[Object(g.jsx)("span",{className:"editFormTitleSpan",children:"Title:"}),Object(g.jsx)("input",{className:"createTitleInputBox",type:"text",placeholder:"title",value:m,onChange:function(e){return h(e.target.value)},required:!0})]}),2===U&&Object(g.jsx)("div",{children:"Uploaded images cannot be edited."}),3===U&&Object(g.jsxs)("label",{children:[Object(g.jsx)("span",{className:"editFormTitleSpan",children:"Link URL:"}),Object(g.jsx)("input",{className:"createTitleInputBox",type:"text",placeholder:"Link URL",value:C,onChange:function(e){return k(e.target.value)}})]}),1===U&&Object(g.jsxs)("label",{children:[Object(g.jsx)("span",{className:"editFormTitleSpan",children:"Text:"}),Object(g.jsx)("textarea",{className:"createTextInputBox",type:"text",placeholder:"Text",value:I,onChange:function(e){return D(e.target.value)}})]}),Object(g.jsx)("div",{className:"editPostFormButton",children:Object(g.jsx)("button",{type:"submit",children:"Edit Post"})})]})]})]})}),Object(g.jsxs)("div",{className:"editPreviewContainer",children:[Object(g.jsx)("div",{className:"editPreviewSpanDiv",children:Object(g.jsx)("span",{children:"Live Edit Preview:"})}),1===U&&Object(g.jsxs)("div",{className:"editPreviewContent",children:[Object(g.jsx)("div",{className:"editPreviewTitle",children:Object(g.jsxs)("span",{children:['"',m,'"']})}),Object(g.jsx)("div",{className:"editPreviewText",children:Object(g.jsxs)("span",{children:['"',I,'"']})})]}),2===U&&Object(g.jsxs)("div",{className:"editPreviewContent",children:[Object(g.jsx)("div",{className:"editPreviewTitle",children:Object(g.jsxs)("span",{children:['"',m,'"']})}),Object(g.jsx)("div",{className:"editPreviewImage",children:Object(g.jsx)("img",{src:v,alt:"postImage",onError:function(e){e.currentTarget.src=se}})})]}),3===U&&Object(g.jsxs)("div",{className:"editPreviewContent",children:[Object(g.jsx)("div",{className:"editPreviewTitle",children:Object(g.jsxs)("span",{children:['"',m,'"']})}),Object(g.jsx)("div",{className:"editPreviewLink",children:Object(g.jsx)("a",{href:C,children:C})})]})]})]}):Object(g.jsx)("div",{children:"Loading..."})}),Ke=(n(53),n(54),function(){return Object(g.jsx)("div",{className:"errorPage",children:Object(g.jsx)("h1",{children:"404 Page not found"})})}),Ye=function(){var e=Object(i.b)(),t=Object(b.g)(),n=Object(b.i)().userId;n=Number(n);var c=Object(i.c)((function(e){return e.session.user})),s=Object(i.c)((function(e){var t=Object.values(e.posts);return t=t.sort((function(e,t){return new Date(e.created_at)<new Date(t.created_at)?1:-1}))})),a=Object(i.c)((function(e){return Object.values(e.subreddits)})),o=Object(r.useState)(!1),j=Object(l.a)(o,2),O=j[0],p=j[1],m=Object(r.useState)(!1),h=Object(l.a)(m,2),x=h[0],f=h[1],v=Object(r.useState)(!1),A=Object(l.a)(v,2),w=(A[0],A[1]),N=Object(r.useState)([]),C=Object(l.a)(N,2),k=C[0],B=C[1],E=Object(r.useState)(!1),I=Object(l.a)(E,2),D=I[0],S=I[1];Object(r.useEffect)((function(){e(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/users/".concat(e,"/posts_by_user"),{});case 2:if(!(r=t.sent).ok){t.next=9;break}return t.next=6,r.json();case 6:return c=t.sent,n(fe(c)),t.abrupt("return",c);case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n)).then((function(){p(!0)})),e(function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/subreddits/subscriptions",{});case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:return r=e.sent,t(V(r)),e.abrupt("return",r);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){S(!0)}))}),[e,n]),Object(r.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,B(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(r.useEffect)((function(){f(c.id===n)}),[c,n]);return Object(g.jsx)("div",{className:"pageContainer",children:O?Object(g.jsx)(g.Fragment,{children:s.length||k?Object(g.jsxs)("div",{className:"homePageDiv",children:[Object(g.jsx)("div",{className:"rowOne",children:O?s.length?s.map((function(n){return Object(g.jsxs)("div",{children:[x&&Object(g.jsxs)("div",{className:"editDeletePostButtonDiv",children:[Object(g.jsx)("button",{className:"editPostButton",onClick:function(){!function(e){var n="/posts/".concat(e,"/edit");t.push(n)}(n.id)},children:"Edit"}),Object(g.jsx)("button",{className:"deletePostButton",onClick:function(){var t;t=n.id,e(we(t))},children:"Delete"})]}),Object(g.jsx)(Be,{post:n,modalToggle:w})]},n.id)})):Object(g.jsx)("div",{className:"noPostsYetDiv",children:Object(g.jsx)("span",{children:"No posts yet"})}):Object(g.jsx)("div",{children:"Loading..."})}),Object(g.jsxs)("div",{className:"rowTwo",children:[k?Object(g.jsxs)("div",{className:"userProfileInfo",children:[Object(g.jsx)("div",{className:"userProfileBanner"}),Object(g.jsxs)("div",{className:"innerProfileInfoDiv",children:[x&&Object(g.jsx)("div",{className:"profileCreatePostDiv",children:Object(g.jsxs)("div",{className:"createSubredditPost",onClick:function(){if(c){t.push("/submit")}else w(!0)},children:[" ","create post"]})}),Object(g.jsxs)("div",{className:"profileInfodDiv",children:[k.profile_image?Object(g.jsx)("img",{src:k.profile_image,alt:"users pic",onError:function(e){e.currentTarget.src="https://i.imgur.com/n1eSrjP.jpg"}}):Object(g.jsx)("img",{src:"https://i.imgur.com/n1eSrjP.jpg",alt:"Error Pic"}),Object(g.jsxs)("span",{children:[" ",k.username?Object(g.jsxs)("span",{children:["r/",k.username]}):Object(g.jsx)("span",{children:"User not found!"})," "]})]}),Object(g.jsx)("div",{className:"cakeDay",children:Object(g.jsxs)("div",{children:[k.created_at&&Object(g.jsx)("span",{className:"cakeDaySpan",children:"Cake Day:"}),Object(g.jsx)("div",{children:Object(g.jsx)("span",{className:"cakeDayDate",children:function(e){if(e)return new Intl.DateTimeFormat("en",{dateStyle:"medium",timeStyle:"short"}).format(new Date(e))}(k.created_at)})})]})})]})]}):Object(g.jsxs)("div",{children:[Object(g.jsx)(Ke,{}),Object(g.jsx)("h1",{children:"User Profile Does not exist"})]}),x&&Object(g.jsxs)("div",{className:"followedSubredditInfo",children:[Object(g.jsx)("div",{className:"aboutFollowedSubreddit",children:Object(g.jsx)("span",{children:"Followed Subreddits"})}),Object(g.jsx)("div",{className:"followedSubredditContent",children:D&&a.map((function(e){return Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"followedSubredditDescriptionDiv",onClick:function(n){return function(e){var n="/r/".concat(e);t.push(n)}(e.id)},children:Object(g.jsxs)("div",{className:"followedSubredditDescription",children:[Object(g.jsx)("div",{className:"homeSubredditIcon",children:Object(g.jsx)("img",{src:e.icon_url,alt:"subredditIcon",onError:function(e){e.currentTarget.src="https://i.imgur.com/hkMSod3.png"}})}),Object(g.jsx)("div",{className:"followedubredditName",children:e.name})]})})},e.id)}))})]})]})]}):Object(g.jsxs)("div",{children:[Object(g.jsx)(Ke,{}),Object(g.jsx)("h1",{children:"User Profile Does not exist"})]})}):Object(g.jsx)("div",{className:"loadingState",children:Object(g.jsx)("div",{children:Object(g.jsx)("span",{children:"Loading..."})})})})},We=(n(55),function(){var e=Object(i.b)(),t=Object(r.useState)(""),n=Object(l.a)(t,2),c=n[0],s=n[1],a=Object(r.useState)(""),o=Object(l.a)(a,2),j=o[0],O=o[1],p=Object(r.useState)(""),m=Object(l.a)(p,2),h=m[0],x=m[1],f=Object(r.useState)(""),v=Object(l.a)(f,2),A=v[0],w=v[1],N=Object(r.useState)([]),C=Object(l.a)(N,2),k=C[0],B=C[1],E=Object(r.useState)(!1),I=Object(l.a)(E,2),D=I[0],S=I[1];if(D)return Object(g.jsx)(b.a,{to:"/"});return Object(g.jsx)("div",{className:"subredditFormPageContainer",children:Object(g.jsxs)("div",{className:"subredditFormContainer",children:[Object(g.jsx)("div",{className:"createSubredditTitle",children:"Create a Subreddit:"}),Object(g.jsxs)("form",{className:"subredditForm",onSubmit:function(t){var n;return t.preventDefault(),B([]),e((n={name:c,description:j,icon_url:h,banner_img:A},function(){var e=Object(d.a)(u.a.mark((function e(t){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/subreddits/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:if(!(r=e.sent).ok){e.next=11;break}return e.next=6,r.json();case 6:return c=e.sent,t(X(c)),e.abrupt("return",c);case 11:if(!(r.status<500)){e.next=17;break}return e.next=14,r.json();case 14:return e.abrupt("return",e.sent);case 17:return e.abrupt("return",["An error occurred. Please try again."]);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.errors?B(Object.values(t.errors)):S(!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:[Object(g.jsx)("ul",{children:k.map((function(e,t){return Object(g.jsx)("li",{className:"errorDiv",children:e},t)}))}),Object(g.jsxs)("label",{children:[Object(g.jsx)("span",{children:"Subreddit Name:"}),Object(g.jsx)("input",{className:"createSubredditInput",type:"text",value:c,onChange:function(e){return s(e.target.value)},required:!0})]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("span",{children:"Description:"}),Object(g.jsx)("textarea",{className:"createSubredditDescriptionInput",type:"text",placeholder:"Description (Optional)",value:j,onChange:function(e){return O(e.target.value)}})]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("span",{children:"Icon URL:"}),Object(g.jsx)("input",{className:"createSubredditInput",type:"text",placeholder:"Icon URL (Optional)",value:h,onChange:function(e){return x(e.target.value)}})]}),Object(g.jsxs)("label",{children:[Object(g.jsx)("span",{children:"Banner Image URL:"}),Object(g.jsx)("input",{className:"createSubredditInput",type:"text",placeholder:"Banner Image URL (Optional)",value:A,onChange:function(e){return w(e.target.value)}})]}),Object(g.jsx)("div",{className:"createPostButtonDiv",children:Object(g.jsx)("button",{className:"createPostButton",type:"submit",children:"Create"})})]})]})})}),ze=(n(56),function(e){var t=e.onClose,n=Object(b.i)().subredditId;n=Number(n);var c=Object(i.b)(),s=Object(i.c)((function(e){return Object.values(e.subreddits)}));s=s[0]?s[0]:s;var a=Object(r.useState)(""),o=Object(l.a)(a,2),j=o[0],O=o[1],p=Object(r.useState)(""),m=Object(l.a)(p,2),h=m[0],x=m[1],f=Object(r.useState)(""),v=Object(l.a)(f,2),A=v[0],w=v[1],N=Object(r.useState)([]),C=Object(l.a)(N,2),k=C[0],B=C[1],E=Object(r.useState)(!1),I=Object(l.a)(E,2),D=I[0],S=I[1],Q=Object(r.useState)(!1),T=Object(l.a)(Q,2),y=T[0],P=T[1];Object(r.useEffect)((function(){s.name&&(O(s.description),x(s.icon_url),w(s.banner_img))}),[s]),Object(r.useEffect)((function(){c(ee(n)).then((function(){P(!0)}))}),[c,n]),D&&t();return y?Object(g.jsxs)("div",{className:"editSubredditFormContainer",children:[Object(g.jsx)("div",{className:"innerEditSubredditFormContainer",children:Object(g.jsxs)("form",{className:"subredditEditForm",onSubmit:function(e){e.preventDefault(),B([]);var t,r={id:n,name:s.name,description:j,icon_url:h,banner_img:A};return c((t=r,function(){var e=Object(d.a)(u.a.mark((function e(n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/subreddits/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if(!(r=e.sent).ok){e.next=11;break}return e.next=6,r.json();case 6:return c=e.sent,n({type:Y,subreddit:c}),e.abrupt("return",c);case 11:if(!(r.status<500)){e.next=17;break}return e.next=14,r.json();case 14:return e.abrupt("return",e.sent);case 17:return e.abrupt("return",["An error occurred. Please try again."]);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.errors?B(Object.values(t.errors)):S(!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:[Object(g.jsx)("div",{className:"editSubredditFormTitle",children:Object(g.jsx)("span",{children:"Edit Subreddit:"})}),Object(g.jsx)("ul",{children:k.map((function(e,t){return Object(g.jsx)("li",{className:"errorDiv",children:e},t)}))}),Object(g.jsxs)("div",{className:"editFormInputContainer",children:[Object(g.jsx)("span",{children:"Description:"}),Object(g.jsx)("label",{children:Object(g.jsx)("textarea",{type:"text",placeholder:"Description",value:j,onChange:function(e){return O(e.target.value)}})}),Object(g.jsx)("span",{children:"Icon URL:"}),Object(g.jsx)("label",{children:Object(g.jsx)("input",{type:"text",placeholder:"(Optional)",value:h,onChange:function(e){return x(e.target.value)}})}),Object(g.jsx)("span",{children:"Banner Image URL:"}),Object(g.jsx)("label",{children:Object(g.jsx)("input",{type:"text",placeholder:"(Optional)",value:A,onChange:function(e){return w(e.target.value)}})})]}),Object(g.jsx)("div",{className:"editSubredditButtonDiv",children:Object(g.jsx)("button",{className:"editSubredditButton",type:"submit",children:"Edit Post"})})]})}),Object(g.jsxs)("div",{className:"outerEditSubredditPreview",children:[Object(g.jsx)("div",{className:"editSubredditPreviewTitle",children:Object(g.jsx)("span",{children:"Live Edit Preview:"})}),Object(g.jsx)("div",{className:"editSubredditPreview",children:Object(g.jsxs)("div",{className:"innerSubredditPreview",children:[Object(g.jsx)("div",{className:"editBannerPreview",children:Object(g.jsx)("img",{src:A,alt:"bannerImage",onError:function(e){e.currentTarget.src="https://i.imgur.com/aQxmKOg.png"}})}),Object(g.jsx)("div",{className:"editSubredditIconPreview",children:Object(g.jsx)("div",{className:"editIconBackground",children:Object(g.jsx)("img",{src:h,alt:"iconImage",onError:function(e){e.currentTarget.src="https://i.imgur.com/hkMSod3.png"}})})})]})}),Object(g.jsx)("div",{className:"editSubredditPreviewNote",children:Object(g.jsx)("span",{children:"*Empty / Broken images will recieve a default icon and banner"})})]})]}):Object(g.jsx)("div",{children:"Loading..."})});var Xe=function(e){var t=e.isOpen,n=e.modalToggle;return Object(g.jsx)(g.Fragment,{children:t&&Object(g.jsx)(k,{onClose:function(){return n(!1)},children:Object(g.jsx)(ze,{onClose:function(){return n(!1)}})})})},qe=(n(57),function(){var e=Object(i.b)(),t=Object(b.g)(),n=Object(b.i)().subredditId;n=Number(n);var c=Object(i.c)((function(e){return Object.values(e.subreddits)})),s=Object(i.c)((function(e){var t=Object.values(e.posts);return t=t.sort((function(e,t){return new Date(e.created_at)<new Date(t.created_at)?1:-1}))})),a=Object(i.c)((function(e){return e.session.user})),o=Object(r.useState)(!1),j=Object(l.a)(o,2),O=j[0],p=j[1],m=Object(r.useState)(!1),h=Object(l.a)(m,2),x=h[0],f=h[1],v=Object(r.useState)(!1),A=Object(l.a)(v,2),w=A[0],N=A[1],C=Object(r.useState)(!1),k=Object(l.a)(C,2),B=k[0],E=k[1],D=Object(r.useState)(!1),S=Object(l.a)(D,2),Q=S[0],T=S[1],y=Object(r.useState)(!1),P=Object(l.a)(y,2),F=P[0],U=P[1];Object(r.useEffect)((function(){isNaN(n)?(N(!0),E(!0)):(e(ee(n)).then((function(){N(!0)})),e(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/subreddits/".concat(e,"/posts"),{});case 2:if(!(r=t.sent).ok){t.next=9;break}return t.next=6,r.json();case 6:return c=t.sent,n(xe(c)),t.abrupt("return",c);case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n)).then((function(){E(!0)})))}),[e,n]),Object(r.useEffect)((function(){a&&w&&c[0]&&(c[0].subscriptions.forEach((function(e){e.user_id===a.id&&U(!0)})),T(a.id===c[0].owner_id))}),[w,a]);var J=function(){if(a){var e="/submit?subreddit_id=".concat(n);t.push(e)}else p(!0)},L=function(){var n=Object(d.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(te(r)).then((function(){t.push("/")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),R=function(){a?(e(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/subreddits/".concat(e,"/subscribe"),{method:"POST"});case 2:if(!(r=t.sent).ok){t.next=6;break}return n(_(e)),t.abrupt("return",e);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n)),U((function(e){return!e}))):p(!0)};return Object(g.jsxs)("div",{className:"pageContainer",children:[Object(g.jsx)(I,{isOpen:O,modalToggle:p}),w?Object(g.jsx)(g.Fragment,{children:c[0]?Object(g.jsxs)(g.Fragment,{children:[c.map((function(e){return Object(g.jsxs)("div",{className:"subredditBanner",children:[Object(g.jsx)("img",{src:null===e||void 0===e?void 0:e.banner_img,alt:"bannerimage",onError:function(e){e.currentTarget.src="https://i.imgur.com/aQxmKOg.png"}}),Object(g.jsx)("div",{className:"subredditTitle",children:Object(g.jsx)("div",{className:"innerSubredditTitleDiv",children:Object(g.jsxs)("div",{className:"titleDivContent",children:[Object(g.jsx)("div",{className:"iconBackground"}),Object(g.jsx)("img",{className:"subredditIcon",src:null===e||void 0===e?void 0:e.icon_url,alt:"iconImage",onError:function(e){e.currentTarget.src="https://i.imgur.com/hkMSod3.png"}}),Object(g.jsxs)("div",{className:"subredditNameDiv",children:[Object(g.jsxs)("div",{className:"bigSubredditName",children:[Object(g.jsxs)("span",{children:[" ",e.name," "]}),Q?Object(g.jsxs)("div",{className:"subredditButtonDiv",children:[Object(g.jsx)("button",{className:"editSubredditButton",onClick:function(){return f(!0)},children:"Edit"}),Object(g.jsx)(Xe,{isOpen:x,modalToggle:f}),Object(g.jsx)("button",{className:"deleteSubredditButton",onClick:function(){return L(e.id)},children:"Delete"})]}):F?Object(g.jsx)("button",{className:"joinToggleSubredditButton",onClick:function(){return R()},children:"Joined"}):Object(g.jsx)("button",{className:"joinToggleSubredditButton",onClick:function(){return R()},children:"Join"})]}),Object(g.jsx)("div",{className:"littleSubredditName",children:Object(g.jsxs)("span",{children:["r/",e.name]})})]})]})})})]})})),Object(g.jsxs)("div",{className:"homePageDiv",children:[Object(g.jsxs)("div",{className:"rowOneSubreddit",children:[Object(g.jsxs)("div",{className:"createPostDiv",children:[Object(g.jsx)("div",{className:"createIcon",children:Object(g.jsx)("img",{src:ce,alt:"createIcon"})}),Object(g.jsx)("div",{className:"createInputContainer",children:Object(g.jsx)("input",{type:"text",placeholder:"Create Post",className:"inputBox",onClick:J})})]}),B&&(s.length?s.map((function(e){return Object(g.jsx)(Be,{post:e,modalToggle:p})})):Object(g.jsx)("div",{children:"No posts yet"}))]}),Object(g.jsx)("div",{className:"rowTwoSubreddit",children:c.map((function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"subredditInformation",children:[Object(g.jsx)("div",{className:"aboutSubreddit",children:Object(g.jsx)("span",{children:"About Community"})}),Object(g.jsx)("div",{className:"subredditDescriptionDiv",children:Object(g.jsx)("div",{className:"subredditDescription",children:e.description})}),Object(g.jsx)("div",{className:"subredditCreatePostDiv",children:Object(g.jsxs)("div",{className:"createSubredditPost",onClick:J,children:[" ","create post"]})})]})})}))})]})]}):Object(g.jsxs)("div",{children:[Object(g.jsx)(Ke,{}),Object(g.jsx)("h1",{children:"Subreddit does not exist"})]})}):Object(g.jsx)("div",{className:"loadingState",children:Object(g.jsx)("div",{children:Object(g.jsx)("span",{children:"Loading..."})})})]})});var Ze,Ve=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(i.b)();return Object(r.useEffect)((function(){Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auth/",{headers:{"Content-Type":"application/json"}});case 2:if(!(n=e.sent).ok){e.next=10;break}return e.next=6,n.json();case 6:if(!(r=e.sent).errors){e.next=9;break}return e.abrupt("return");case 9:t(m(r));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:c(!0);case 3:case"end":return e.stop()}}),e)})))()}),[s]),n?Object(g.jsxs)(j.a,{children:[Object(g.jsx)(U,{isLoaded:n}),Object(g.jsxs)(b.d,{children:[Object(g.jsx)(b.b,{path:"/login",exact:!0,children:Object(g.jsx)(I,{isOpen:!0,modalToggle:function(){}})}),Object(g.jsx)(b.b,{path:"/sign-up",exact:!0,children:Object(g.jsx)(A,{})}),Object(g.jsx)(b.b,{path:"/",exact:!0,children:Object(g.jsx)(Ee,{})}),Object(g.jsx)(b.b,{path:"/posts/:postId",exact:!0,children:Object(g.jsx)(He,{})}),Object(g.jsx)(b.b,{path:"/r/:subredditId",exact:!0,children:Object(g.jsx)(qe,{})}),Object(g.jsx)(L,{path:"/users",exact:!0,children:Object(g.jsx)(R,{})}),Object(g.jsx)(L,{path:"/user/:userId",exact:!0,children:Object(g.jsx)(Ye,{})}),Object(g.jsx)(L,{path:"/submit",exact:!0,children:Object(g.jsx)(Ie,{})}),Object(g.jsx)(L,{path:"/posts/:postId/edit",exact:!0,children:Object(g.jsx)(Me,{})}),Object(g.jsx)(L,{path:"/create-subreddit",exact:!0,children:Object(g.jsx)(We,{})}),Object(g.jsx)(L,{path:"/r/:subredditId/edit",exact:!0,children:Object(g.jsx)(ze,{})}),Object(g.jsx)(b.b,{children:Object(g.jsx)(Ke,{})})]})]}):null},_e=n(20),$e=n(28),et=Object(_e.b)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{user:t.payload};case p:return{user:null};default:return e}},posts:Ce,subreddits:re,comments:Je});Ze=Object(_e.a)($e.a);var tt=function(e){return Object(_e.c)(et,e,Ze)}();a.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(i.a,{store:tt,children:Object(g.jsx)(C,{children:Object(g.jsx)(Ve,{})})})}),document.getElementById("root"))}]),[[58,1,2]]]);
//# sourceMappingURL=main.945c5170.chunk.js.map